"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[571],{5055:(e,n,a)=>{a.d(n,{wX:()=>b,Hp:()=>j,i0:()=>u});var i=a(168),t=a(2978);const r=a.p+"static/media/welcome.b907e6f055a9be3133fe.jpg",s=a.p+"static/media/login.6188fc9466f5b283312b.jpg",c=a.p+"static/media/register.de1789afbcb5698ada48.jpg";var l,d,m,o;t.zo.section(l||(l=(0,i.Z)(["\n\n"])));const h=t.zo.section(d||(d=(0,i.Z)(["\n    background-image: linear-gradient(rgba(46, 47, 66, 0.5), \n        rgba(46, 47, 66, 0.5)), \n        url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    height: 100dvh;\n    width: 100%;\n    margin-top: -3.5rem;\n\n    @media screen and (min-width: 834px){\n        margin-top: -4.85rem;\n    }\n    @media screen and (min-width: 1440px){\n        margin-top: -5.1rem;\n    }\n"])),r),x=t.zo.section(m||(m=(0,i.Z)(["\n    background-image: linear-gradient(rgba(46, 47, 66, 0.7), \n        rgba(46, 47, 66, 0.7)), \n        url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    height: 100dvh;\n    width: 100%;\n    margin-top: -3.5rem;\n\n    @media screen and (min-width: 834px){\n        margin-top: -4.85rem;\n    }\n    @media screen and (min-width: 1440px){\n        margin-top: -5.1rem;\n    }\n"])),c),g=t.zo.section(o||(o=(0,i.Z)(["\n    background-image: linear-gradient(rgba(46, 47, 66, 0.7), \n        rgba(46, 47, 66, 0.7)), \n        url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    height: 100dvh;\n    width: 100%;\n    margin-top: -3.5rem;\n\n    @media screen and (min-width: 834px){\n        margin-top: -4.85rem;\n    }\n    @media screen and (min-width: 1440px){\n        margin-top: -5.1rem;\n    }\n"])),s);var p=a(184);const u=e=>{let{children:n}=e;return(0,p.jsx)(h,{children:n})},j=e=>{let{children:n}=e;return(0,p.jsx)(x,{children:n})},b=e=>{let{children:n}=e;return(0,p.jsx)(g,{children:n})}},2255:(e,n,a)=>{a.r(n),a.d(n,{default:()=>Z});var i,t=a(168),r=a(2978);const s=r.ZP.div(i||(i=(0,t.Z)(["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n    .welcome-title{\n        margin-bottom: 3.75rem;\n        font-size: 40px;\n        line-height: 1.3;\n        font-weight: 700;\n        color: ",";\n    \n        @media screen and (min-width: 834px) {\n            font-size: 3.4375rem;\n            line-height: 1.2;\n            letter-spacing: 0.625rem;\n        }\n\n        @media screen and (min-width: 1440px) {\n            font-weight: 700;\n            font-size: 4.375rem;\n        }\n    }\n\n    .welcome-navigation{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n    }\n\n    .welcome-nav-list{\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 3.75rem;\n        flex-direction: column;\n\n        @media screen and (min-width: 834px) {\n            flex-direction: row;\n            gap: 1.875rem;\n        }\n        @media screen and (min-width: 1440px) {\n            gap: 3.75rem;\n        }\n    }\n\n    .welcome-nav-item{\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n\n        @media screen and (min-width: 1440px) {\n            width: 30%;\n        }\n    }\n\n    .welcome-item-text{\n        text-align: center;\n        margin-bottom: 1.875rem;\n\n        @media screen and (min-width: 1440px) {\n            font-size: 1.5625rem;\n            line-height: 1.5;\n        }\n    }\n\n    .welcome-nav-link{\n        display: flex;\n        width: 8.875rem;\n        padding: 0.5rem 0.625rem;\n        border-radius: 0.75rem;\n        background: ",";\n        font-size: 0.875rem;\n        font-weight: 500;\n        line-height: 1.4;\n        justify-content: center;\n        color: ",";\n        transition: all ",";\n\n        &:hover {\n            color: ",";\n        }\n\n        &:focus {\n            color: ",";\n        }\n\n        @media screen and (min-width: 834px) {\n            width: 50%;\n            font-size: 1.25rem;\n        }\n\n        @media screen and (min-width: 1440px) {\n            font-size: 1.5625rem;\n            line-height: 1.5;\n        }\n    }\n"])),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_grey));var c=a(3623),l=a(5055),d=a(1087),m=a(184);const o=()=>(0,m.jsx)(l.i0,{children:(0,m.jsx)(c.W,{children:(0,m.jsxs)(s,{children:[(0,m.jsx)("h1",{className:"welcome-title",children:"WELCOME"}),(0,m.jsx)("nav",{className:"welcome-navigation",children:(0,m.jsxs)("ul",{className:"welcome-nav-list",children:[(0,m.jsxs)("li",{className:"welcome-nav-item",children:[(0,m.jsx)("p",{className:"welcome-item-text",children:"If you still don't have an account, please proceed with"}),(0,m.jsx)(d.OL,{className:"welcome-nav-link",to:"/signup",children:"Sign Up"})]}),(0,m.jsxs)("li",{className:"welcome-nav-item",children:[(0,m.jsx)("p",{className:"welcome-item-text",children:"If you already have an account, please proceed with"}),(0,m.jsx)(d.OL,{className:"welcome-nav-link",to:"/signin",children:"Sign In"})]})]})})]})})});var h;const x=r.ZP.div(h||(h=(0,t.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n    \n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    .page-title{\n        font-weight: 700;\n        text-align: center;\n        margin-bottom: 1rem;\n    }\n\n    .filter-block{\n        margin-bottom: 2rem;\n    }\n\n    \n    .filter-list{\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n        justify-content: center;\n        font-weight: 500;\n        line-height: 1.25rem;\n    }\n\n    .content-container{\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        flex-grow: 1;\n    }\n\n    .small-table{\n        border-right: 1px solid ",";\n\n        & tbody{\n            & tr:last-child{\n                & td{\n                    border-bottom: 1px solid ",";\n                }\n            }\n        }\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite));var g=a(8580),p=a(7039),u=a(6677),j=a(2865),b=a(4420),f=a(8524),N=a(6081),w=a(3544),v=a(4461),k=a(4753),C=a(9388),y=a(2791);const _=e=>{let{lead:n,userSelectOffice:a,dispatch:i,isAdmin:t}=e;const[r,s]=(0,y.useState)(new Map),c=(0,y.useRef)(new Map),l=(e,n)=>{t&&e.newContact&&(i((0,w.lI)({leadId:e._id,data:{name:e.name,lastName:e.lastName,email:e.email,phone:e.phone,resource:e.resource,branch:n}})),o(e._id)),t&&!e.newContact&&(i((0,w.qE)({leadId:e._id,data:{branch:n}})),o(e._id))},d=e=>e.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"),o=e=>{s((n=>{const a=new Map(n);return a.set(e,!a.get(e)),a}))},h=(0,y.useCallback)((e=>{"Escape"===e.key&&s(new Map)}),[]),x=(0,y.useCallback)((e=>{const n=new Map(r);let a=!1;c.current.forEach(((i,t)=>{i&&!i.contains(e.target)&&r.get(t)&&(n.set(t,!1),a=!0)})),a&&s(n)}),[r]);return(0,y.useEffect)((()=>(document.addEventListener("keydown",h),document.addEventListener("click",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("click",x)})),[x,h]),(0,m.jsxs)(g.yP,{ref:e=>{e&&c.current.set(n._id,e)},children:[(0,m.jsxs)("button",{className:"assign-btn",type:"button",onClick:()=>o(n._id),children:[(e=>e.newContact?"Assign":"ReAssign")(n),(0,m.jsx)(C.r,{className:"icon ".concat((p=n._id,r.get(p)?"icon-active":""))})]}),(0,m.jsx)("ul",{className:"office-list ".concat((e=>r.get(e)?"office-list-visible":"")(n._id)),children:n.assigned?a.filter((e=>{let{office:a}=e;return a!==n.assignedOffice})).map(((e,a)=>{let{office:i}=e;return(0,m.jsx)("li",{className:"office-item",children:(0,m.jsxs)("p",{onClick:()=>l(n,i),children:["To ",d(i)]})},a)})):a.map(((e,a)=>{let{office:i}=e;return(0,m.jsx)("li",{className:"office-item",children:(0,m.jsxs)("p",{onClick:()=>l(n,i),children:["To ",d(i)]})},a)}))})]});var p};var T=a(1879),H=a(8192);const I=e=>{let{selectedExternalLeadsCheckedCheckbox:n,lead:a}=e;const i=(0,b.I0)();return(0,m.jsx)(g.dA,{children:(0,m.jsxs)("div",{className:"custom-checkbox",children:[(0,m.jsx)("input",{className:"checkbox",type:"checkbox",name:"delete_external_lead",id:a._id,checked:n.includes(a._id),onChange:()=>{return e=a._id,void i((0,N.Nj)({_id:e}));var e}}),(0,m.jsxs)("div",{className:"custom-checkbox",children:[(0,m.jsx)(H.r,{className:"custom-checkbox-before",width:"16",height:"16"}),(0,m.jsx)(T.r,{className:"custom-checkbox-after",width:"16",height:"16"})]})]})})};function A(){const e=(0,b.I0)(),{isAdmin:n}=(0,p.a)(),{userSelectOffice:a}=(0,j.a)(),{isLeads:i,selectedExternalLeadsCheckedCheckbox:t}=(0,u.t)();let r;i&&(r=[...i].sort(((e,n)=>e.newContact===n.newContact?new Date(n.createdAt)-new Date(e.createdAt):e.newContact?-1:1)));const s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Europe/Kiev";const a=new Date(e),i=(0,k.zW)(a,n),t=(0,v.WU)(i,"yyyy-MM-dd",{timeZone:n}),r=(0,v.WU)(i,"HH:mm",{timeZone:n});return"".concat(t," ").concat(r)},c=e=>{if(e)return e.replace(/([a-zA-Z]+)(\d+)/,"$1 $2")};return(0,m.jsx)(g.ZI,{className:i.length<13?"small-table":"",children:(0,m.jsxs)("table",{className:"Table",children:[(0,m.jsx)("thead",{className:"TableHeader",children:(0,m.jsxs)("tr",{className:"TableHeaderList",children:[(0,m.jsx)("th",{id:"nameColumn",className:"TableHeaderName",children:"Name:"}),(0,m.jsx)("th",{id:"lastNameColumn",className:"TableHeaderName",children:"Last Name:"}),(0,m.jsx)("th",{id:"emailColumn",className:"TableHeaderName",children:"Email:"}),(0,m.jsx)("th",{id:"phoneColumn",className:"TableHeaderName",children:"Phone:"}),(0,m.jsx)("th",{id:"sourceColumn",className:"TableHeaderName",children:"Source:"}),(0,m.jsx)("th",{id:"createdColumn",className:"TableHeaderName",children:"Created:"}),(0,m.jsx)("th",{id:"officeColumn",className:"TableHeaderName",children:"Office:"}),(0,m.jsx)("th",{id:"crmManagerColumn",className:"TableHeaderName",children:"CRM Manager:"}),(0,m.jsx)("th",{id:"conversionManagerColumn",className:"TableHeaderName",children:"Conversion Manager:"}),(0,m.jsx)("th",{id:"conversionAgentColumn",className:"TableHeaderName",children:"Conversion Agent:"}),(0,m.jsx)("th",{id:"assignColumn",className:"TableHeaderName",children:"Assign / ReAssign"}),(0,m.jsx)("th",{id:"detailsColumn",className:"TableHeaderName",children:"Details"}),(0,m.jsx)("th",{id:"checkColumn",className:"TableHeaderName",children:"Check"})]})}),(0,m.jsx)("tbody",{children:i&&r.map(((i,r)=>{return(0,m.jsxs)("tr",{className:i.newContact?"back-color":"",children:[(0,m.jsx)("td",{className:"TableHeaderItem",children:i.name}),(0,m.jsx)("td",{className:"TableHeaderItem",children:i.lastName}),(0,m.jsx)("td",{className:"TableHeaderItem",children:i.email}),(0,m.jsx)("td",{className:"TableHeaderItem",children:i.phone}),(0,m.jsx)("td",{className:"TableHeaderItem",children:(l=i.resource,"string"!==typeof l||0===l.length?l:l.charAt(0).toUpperCase()+l.slice(1))}),(0,m.jsx)("td",{className:"TableHeaderItem",children:s(i.createdAt)}),(0,m.jsx)("td",{className:"TableHeaderItem",children:c(i.assignedOffice)}),(0,m.jsx)("td",{className:"TableHeaderItem",children:i.crmManager.name||i.crmManager.email?(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)("p",{children:i.crmManager.name})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{children:i.crmManager.email})})]}):(0,m.jsx)("p",{children:"Not Assigned Yet"})}),(0,m.jsx)("td",{className:"TableHeaderItem",children:i.conManager.name||i.conManager.email?(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)("p",{children:i.conManager.name})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{children:i.conManager.email})})]}):(0,m.jsx)("p",{children:"Not Assigned Yet"})}),(0,m.jsx)("td",{className:"TableHeaderItem",children:i.conAgent.name||i.conAgent.email?(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsx)("p",{children:i.conAgent.name})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{children:i.conAgent.email})})]}):(0,m.jsx)("p",{children:"Not Assigned Yet"})}),(0,m.jsx)("td",{className:"TableHeaderItem",children:(0,m.jsx)(_,{isAdmin:n,lead:i,userSelectOffice:a,dispatch:e})}),(0,m.jsx)("td",{className:"TableHeaderItem",children:(0,m.jsx)("button",{className:"check-btn",type:"button",onClick:()=>{return n=i._id,e((0,f.pk)()),e((0,N.xm)("External")),void e((0,w.zs)({leadId:n}));var n},children:"Open"})}),(0,m.jsx)("td",{className:"TableHeaderItem",children:(0,m.jsx)(I,{lead:i,selectedExternalLeadsCheckedCheckbox:t})})]},i._id);var l}))})]})})}var L=a(9066),M=a(7055),E=a(905),z=a(7531);const O=()=>{const{isAdmin:e}=(0,p.a)(),{isLeadDetails:n}=(0,E.d)(),{isLeadLoading:a,leadOffice:i}=(0,u.t)(),{userOffice:t,userLeadsComponent:r}=(0,j.a)(),s=(0,b.I0)();return(0,y.useEffect)((()=>{t&&s((0,z.fi)()),i&&s((0,N.pg)()),r&&s((0,z.WK)())}),[s,i,r,t]),(0,m.jsx)(x,{children:e&&(0,m.jsxs)("div",{className:"wraper",children:[(0,m.jsx)("h1",{className:"page-title",children:"External Leads List & Management"}),(0,m.jsx)("div",{className:"filter-block",children:(0,m.jsx)("ul",{className:"filter-list",children:(0,m.jsx)("li",{className:"filter-item",children:(0,m.jsx)("p",{children:"FILTER BLOCK"})})})}),(0,m.jsxs)("div",{className:"content-container",children:[e&&a&&!n?(0,m.jsx)(M.ql,{}):(0,m.jsx)(A,{}),(0,m.jsx)(L.t,{})]})]})})},Z=()=>{const{isLoggedIn:e}=(0,p.a)();return e?(0,m.jsx)(O,{}):(0,m.jsx)(o,{})}}}]);
//# sourceMappingURL=571.23c59f75.chunk.js.map