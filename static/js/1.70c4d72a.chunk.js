"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[1],{8589:(e,n,t)=>{t.d(n,{r:()=>i});var r,l=t(2791);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function o(e,n){let{title:t,titleId:o,...i}=e;return l.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":o},i),t?l.createElement("title",{id:o},t):null,r||(r=l.createElement("g",{id:"vuesax/linear/arrow-right"},l.createElement("g",{id:"arrow-right"},l.createElement("path",{id:"Vector",d:"M6.38 3.95312L2.33334 7.99979L6.38 12.0465",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{id:"Vector_2",d:"M13.6667 8H2.44666",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})))))}const i=l.forwardRef(o);t.p},9066:(e,n,t)=>{t.d(n,{t:()=>_});var r,l,a=t(168),o=t(2978);const i=o.ZP.div(r||(r=(0,a.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: auto;\n\n    .pagination-block{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.625rem;\n    }\n\n\n    .left-button-block,\n    .right-button-block{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.625rem;\n    }\n\n    .paginaton-button{\n        border-radius: 50%;\n        padding: 0.25rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        scale: calc(1);\n        transition: scale ",";\n\n        & .arrow-icon{\n            width: 1rem;\n            height: 1rem;\n        }\n        & .icon{\n            width: 0.75rem;\n            height: 0.75rem;\n        }\n        & .left-arrow{\n            transform: rotate(90deg);\n        }\n        & .right-arrow{\n            transform: rotate(-90deg);\n        }\n        &:hover{\n            scale: calc(1.2);\n        }\n    }\n\n    .right-button-block{\n        & button {\n            background-color: ",";\n\n            & .right-arrow{\n                stroke: ",";\n            }\n            & .arrow-icon{\n                fill: ",";\n            }\n\n            &:disabled{\n                scale: calc(1);\n                pointer-events: none;\n\n                & .arrow-icon{\n                    fill: ",";\n                }\n                & .right-arrow{\n                    stroke: ",";\n                }\n            }\n\n        }\n        \n    }\n\n    .left-button-block{\n        & button {\n            background-color: ",";\n\n            & .left-arrow{\n                stroke: ",";\n            }\n            & .arrow-icon{\n                fill: ",";\n            }\n\n            &:disabled{\n                scale: calc(1);\n                pointer-events: none;\n\n                & .left-arrow{\n                    stroke: ",";\n                }\n                & .arrow-icon{\n                    fill: ",";\n                }\n            }\n        }\n    }\n\n    .button{\n        padding: 0.375rem;\n    }\n"])),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_grey),(e=>e.theme.color.for_modal_color),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_white),(e=>e.theme.color.background),(e=>e.theme.color.background)),s=o.ZP.div(l||(l=(0,a.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 0.375rem;\n\n    .content-list{\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        max-width: 17.875rem;\n        overflow-x: auto;\n        scroll-snap-type: x mandatory;\n        padding: 0 2px;\n\n        &::-webkit-scrollbar {\n            display: none;\n        }\n        &::-webkit-scrollbar-thumb {\n            display: none;\n        }\n    }\n\n    .content-item {\n        scroll-snap-align: center;\n        padding: 0;\n    }\n\n    .button-background{\n        font-size: 0.75rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 0.25rem;\n        width: 1.5rem;\n        height: 1.5rem;\n        border-radius: 50%;\n        background-color: pink;\n        background-color: ",";\n        color: ",";\n        transition: all ",";\n\n        &:hover{\n            background-color: ",";\n            color: ",";\n        }\n    }\n\n    .button-active{\n        background-color: ",";\n        color: ",";\n    }\n"])),(e=>e.theme.color.for_modal_color),(e=>e.theme.color.primary_white),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black));var c,d=t(2791);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m.apply(this,arguments)}function h(e,n){let{title:t,titleId:r,...l}=e;return d.createElement("svg",m({className:"icon icon-angle-double-right",ref:n,"aria-labelledby":r},l),t?d.createElement("title",{id:r},t):null,c||(c=d.createElement("use",{xlinkHref:"#icon-angle-double-right"},d.createElement("symbol",{id:"icon-angle-double-right",viewBox:"0 0 16 28"},d.createElement("path",{d:"M9.297 15c0 0.125-0.063 0.266-0.156 0.359l-7.281 7.281c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-0.781-0.781c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l6.141-6.141-6.141-6.141c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l0.781-0.781c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l7.281 7.281c0.094 0.094 0.156 0.234 0.156 0.359zM15.297 15c0 0.125-0.063 0.266-0.156 0.359l-7.281 7.281c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-0.781-0.781c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l6.141-6.141-6.141-6.141c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l0.781-0.781c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l7.281 7.281c0.094 0.094 0.156 0.234 0.156 0.359z"})))))}const u=d.forwardRef(h);t.p;var g;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(this,arguments)}function b(e,n){let{title:t,titleId:r,...l}=e;return d.createElement("svg",p({className:"icon icon-angle-double-left",ref:n,"aria-labelledby":r},l),t?d.createElement("title",{id:r},t):null,g||(g=d.createElement("use",{xlinkHref:"#icon-angle-double-left"},d.createElement("symbol",{id:"icon-angle-double-left",viewBox:"0 0 16 28"},d.createElement("path",{d:"M9.797 21.5c0 0.125-0.063 0.266-0.156 0.359l-0.781 0.781c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-7.281-7.281c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l7.281-7.281c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l0.781 0.781c0.094 0.094 0.156 0.234 0.156 0.359s-0.063 0.266-0.156 0.359l-6.141 6.141 6.141 6.141c0.094 0.094 0.156 0.234 0.156 0.359zM15.797 21.5c0 0.125-0.063 0.266-0.156 0.359l-0.781 0.781c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-7.281-7.281c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l7.281-7.281c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l0.781 0.781c0.094 0.094 0.156 0.234 0.156 0.359s-0.063 0.266-0.156 0.359l-6.141 6.141 6.141 6.141c0.094 0.094 0.156 0.234 0.156 0.359z"})))))}const x=d.forwardRef(b);t.p;var w=t(9388),f=t(184);const y=(0,d.forwardRef)(((e,n)=>{let{firstVisible:t,clickOnFirstVisible:r,listRef:l,elements:a,toggleButtonBackground:o,setButtonActive:i,lastVisible:c,clickOnLastVisible:d}=e;return(0,f.jsxs)(s,{children:[t&&(0,f.jsx)("button",{type:"button",className:"button-background",onClick:r,children:(0,f.jsx)("p",{children:"..."})}),(0,f.jsx)("ul",{className:"content-list",ref:l,children:a.map(((e,n)=>(0,f.jsx)("li",{className:"content-item",children:(0,f.jsx)("button",{type:"button",className:"button-background ".concat(o(n+1)),onClick:()=>i(n+1),children:(0,f.jsx)("p",{children:e})})},n)))}),c&&(0,f.jsx)("button",{type:"button",className:"button-background",onClick:d,children:(0,f.jsx)("p",{children:"..."})})]})}));var j=t(3544),v=t(7039),k=t(2865),I=t(6677),N=t(4420);const _=()=>{const e=(0,N.I0)(),{isAdmin:n,isManager:t,isConversion:r}=(0,v.a)(),{totalPages:l,leadOffice:a,leadsAmountPerPage:o}=(0,I.t)(),{userLeadsComponent:s}=(0,k.a)(),[c,m]=(0,d.useState)(1),[h,g]=(0,d.useState)(!1),[p,b]=(0,d.useState)(!1),[_,C]=(0,d.useState)(0),[T,L]=(0,d.useState)(0),[H,A]=(0,d.useState)(!1),[M,V]=(0,d.useState)(!1),E=(0,d.useRef)(null);let D;D=l?Number(l):1;const S=Array.from({length:D},((e,n)=>n+1)),Z=c.toString(),R=o.toString();(0,d.useEffect)((()=>{(n||t||r)&&!s&&e((0,j.oC)({page:Z,limit:R,branch:a}))}),[e,n,r,t,a,R,Z,s]),(0,d.useEffect)((()=>{if(E.current){const e=E.current.querySelector(".button-active");e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}),[c]),(0,d.useEffect)((()=>{S.length>9&&(b(!0),C(10)),S.length>1&&V(!0),1===S.length&&(V(!1),b(!1))}),[S.length]);return(0,f.jsx)(i,{children:(0,f.jsxs)("div",{className:"pagination-block",children:[(0,f.jsxs)("div",{className:"left-button-block",children:[(0,f.jsx)("button",{type:"button",className:"paginaton-button",onClick:()=>{m(1),V(!0),A(!1),S.length>9&&(b(!0),g(!1),C(10),L(0))},disabled:!H,children:(0,f.jsx)(x,{className:"arrow-icon",width:16,height:16})}),(0,f.jsx)("button",{type:"button",className:"paginaton-button button",onClick:()=>{if(c>=2&&(m((e=>e-1)),V(!0)),c-1<=1&&A(!1),S.length>9&&S.length-c>=4){b(!0);const e=Math.max(10,c+4);C(e>S.length?S.length:e);const n=c-6;L(n>1?n:1)}S.length>9&&c<=6&&g(!1)},disabled:!H,children:(0,f.jsx)(w.r,{className:"icon left-arrow",width:12,height:12})})]}),(0,f.jsx)(y,{firstVisible:h,clickOnFirstVisible:()=>{m(T),V(!0);const e=T-5,n=S.length-9,t=Math.min(e,n);L(Math.max(t,0)),1===T&&A(!1),c<=10&&g(!1),S.length>=c&&b(!0);const r=T+5,l=Math.min(Math.max(r,10),S.length);C(l)},listRef:E,elements:S,toggleButtonBackground:e=>e===c?"button-active":"",setButtonActive:e=>{m(e);const n=S.length-e,t=S.length>9;if(g(t&&e>5),b(t&&n>=5),t){const n=Math.max(Math.min(e+5,S.length),10),t=S.length-9,r=Math.max(e-5,1),l=r>t?t:r;C(n),L(l)}else g(!1),b(!1);A(e>1),V(e<S.length)},lastVisible:p,clickOnLastVisible:()=>{m(_),g(!0),A(!0);const e=Math.min(S.length,_+5);C(e),e>=S.length&&b(!1),_===S.length&&V(!1);const n=_-5,t=S.length-9,r=Math.min(n,t);L(r)}}),(0,f.jsxs)("div",{className:"right-button-block",children:[(0,f.jsx)("button",{type:"button",className:"paginaton-button button",onClick:()=>{if(c<=S.length-1&&(m((e=>e+1)),A(!0)),S.length-c<=5&&b(!1),c+1===S.length&&V(!1),S.length>9&&c>=5){g(!0);const e=c+6;C(e>S.length?S.length:e);const n=c-4;L(n>S.length-9?S.length-9:n)}},disabled:!M,children:(0,f.jsx)(w.r,{className:"icon right-arrow",width:12,height:12})}),(0,f.jsx)("button",{type:"button",className:"paginaton-button",onClick:()=>{m(S.length),V(!1),A(!0),S.length>9&&(b(!1),g(!0),C(S.length),L(S.length-9))},disabled:!M,children:(0,f.jsx)(u,{className:"arrow-icon",width:16,height:16})})]})]})})}},9001:(e,n,t)=>{t.r(n),t.d(n,{default:()=>U});var r,l=t(168),a=t(2978);const o=a.ZP.div(r||(r=(0,l.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    .content-container{\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        flex-grow: 1;\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite));var i,s=t(1087),c=t(6081),d=t(4420),m=t(7039),h=t(2865),u=t(6677);const g=a.ZP.div(i||(i=(0,l.Z)(["\n  border: 1px solid ",';\n  border-radius: 0.625rem;\n  width: 100%;\n  margin-top: 2rem;\n\n  .Table {\n    table-layout: auto;\n    width: 100%;\n    border-collapse: collapse;\n    border-radius: 0.5rem;\n    overflow: hidden;\n  }\n\n  .TableHeader {\n    background: #223f53;\n  }\n\n  .TableHeaderList th {\n    padding: 1rem 0.25rem 1rem 0.25rem;\n  }\n\n  td[id^="lastName-"],\n  td[id^="email-"],\n  td[id^="phone-"],\n  td[id^="resourse-"],\n  td[id^="country-"],\n  td[id^="region-"],\n  td[id^="city-"] {\n    max-width: 70px;\n    max-height: 50px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    position: relative;\n  }\n\n  .TableHeaderItem {\n    padding:0.5rem 0.25rem;\n    border-bottom: 1px solid ',";\n    text-align: left;\n    font-weight: 500;\n    font-size: 0.5rem;\n    overflow-wrap: break-word;\n    text-align: center;\n    position: relative;\n\n    @media only screen and (min-width: 1800px) {\n      white-space: nowrap;\n    }\n  }\n\n  .TableHeaderItem:not(:last-child) {\n    border-right: 1px solid ",";\n  }\n\n  .WordList textarea,\n  select,\n  input {\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    border: none;\n    background: none;\n    resize: none;\n    overflow: hidden;\n    text-align: center;\n    align-items: center;\n    display: flex;\n    color: ",";\n    position: relative;\n\n    &:focus {\n      outline: none;\n      box-shadow: none;\n    }\n  }\n\n  .dropdown {\n    z-index: 1000;\n    position: absolute;\n    font-size: 0.5rem;\n    gap: 0.25rem;\n    border-radius: 1rem;\n    padding: 0.75rem 0.5rem;\n    box-shadow: 0 0.25rem 3rem 0 rgba(18, 20, 23, 0.08);\n    background: ",";\n    color: black;\n  }\n\n  .ListItem {\n    cursor: pointer;\n\n    &:hover {\n      color: #a2a59e;\n    }\n  }\n\n\n  .arrow-svg {\n    cursor: pointer;\n    width: 0.875rem;\n    height: 0.875rem;\n    stroke: ",";\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    position: absolute;\n    left: 5px;\n    bottom: 0px;\n  }\n\n  .arrow-svg-close {\n    transform: rotate(180deg);\n  }\n\n  .InputContainer {\n    display: flex;\n    position: absolute;\n    background: #e3ffa8e0;\n    border-radius: 10px;\n    padding: 10px;\n    z-index: 9999;\n    width: max-content;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  }\n\n  .InputContainer input {\n    color: black;\n  }\n\n  .ButtonSave {\n    border-radius: 5px;\n    background: black;\n    color: white;\n    border: none;\n  }\n\n"])),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite));var p=t(9388),b=t(184);const x=e=>{let{inputVisible:n,dropdownRef:t,handleDropdownItemClick:r}=e;const{timeZone:l,isTimeZoneLoading:a}=(0,u.t)();return(0,b.jsx)(b.Fragment,{children:null!==n.row&&"timeZone"===n.cell&&(0,b.jsx)("ul",{className:"dropdown",ref:t,children:a?"Loading...".split("").map(((e,n)=>(0,b.jsx)("li",{className:"ListItem",children:e},n))):l.map(((e,t)=>(0,b.jsx)("li",{className:"ListItem",value:e,onClick:()=>r(n.row,e,"timeZone",n.leadId),children:e},t)))})})},w=e=>{let{inputVisible:n,dropdownRef:t,handleDropdownItemClick:r}=e;const{status:l,isStatusLoading:a,isStatusError:o}=(0,u.t)();return o?(0,b.jsx)("div",{children:"Oooops something wrong"}):(0,b.jsx)(b.Fragment,{children:null!==n.row&&"status"===n.cell&&(0,b.jsx)("ul",{className:"dropdown",ref:t,children:a?"Loading...".split("").map(((e,n)=>(0,b.jsx)("li",{className:"ListItem",children:e},n))):l.map(((e,t)=>(0,b.jsx)("li",{className:"ListItem",value:e,onClick:()=>r(n.row,e,"status",n.leadId),children:e},t)))})})};var f=t(3544),y=t(2791);const j=e=>{let{leads:n,inputVisible:t,inputRef:r,setLeads:l,handleTextareaChange:a,setInputVisible:o}=e;const i=(0,d.I0)(),[s,c]=(0,y.useState)("");return(0,b.jsx)(b.Fragment,{children:null!==t.row&&null!==t.cell&&"status"!==t.cell&&"timeZone"!==t.cell&&(0,b.jsxs)("form",{className:"InputContainer",ref:r,children:[(0,b.jsx)("input",{value:s,onChange:e=>{c(e.target.value)},onInput:a}),(0,b.jsx)("button",{className:"ButtonSave",type:"submit",onClick:e=>((e,t,r,a)=>{switch(e.preventDefault(),r){case"city":i((0,f.n7)({id:a,leadCity:s})).then((e=>{if(e.payload.name){const e=[...n];e[t]={...e[t],city:s},l(e),c(""),o({row:null,cell:null,leadId:null})}}));break;case"region":i((0,f.c2)({id:a,leadRegion:s})).then((e=>{if(e.payload.name){const e=[...n];e[t]={...e[t],region:s},l(e),c(""),o({row:null,cell:null,leadId:null})}}));break;case"country":"country"===r&&i((0,f.GM)({id:a,leadCountry:s})).then((e=>{if(e.payload.name){const e=[...n];e[t]={...e[t],country:s},l(e),c(""),o({row:null,cell:null,leadId:null})}}))}})(e,t.row,t.cell,t.leadId),children:"Save"})]})})},v=e=>{let{lead:n}=e;const[t,r]=(0,y.useState)(""),l=(0,d.I0)();(0,y.useEffect)((()=>{n.nextCall&&r(n.nextCall.toString().slice(0,16))}),[n.nextCall]);return(0,b.jsx)("td",{className:"TableHeaderItem",children:(0,b.jsx)("label",{children:(0,b.jsx)("input",{type:"datetime-local",value:t,onChange:e=>{const t=e.target.value;l((0,f.rN)({id:n._id,leadNextcall:t})).then((e=>{e.payload.nextCall&&r(t)}))}})})})},k=e=>{let{lead:n,ArrowDown:t,toggleInputVisibility:r,index:l,toggleUserMenuDropArrow:a}=e;return(0,b.jsxs)("td",{className:"TableHeaderItem",id:"timeZone-".concat(l),children:[n.timeZone,(0,b.jsx)(t,{onClick:()=>r(l,"timeZone",n._id),className:"arrow-svg ".concat(a(l,"timeZone"))})]})},I=e=>{let{index:n,lead:t,ArrowDown:r,toggleInputVisibility:l,toggleUserMenuDropArrow:a}=e;return(0,b.jsxs)("td",{className:"TableHeaderItem",id:"city-".concat(n),children:[t.city,(0,b.jsx)(r,{onClick:()=>l(n,"city",t._id),className:"arrow-svg ".concat(a(n,"city"))})]})},N=e=>{let{index:n,lead:t,ArrowDown:r,toggleInputVisibility:l,toggleUserMenuDropArrow:a}=e;return(0,b.jsxs)("td",{className:"TableHeaderItem",id:"region-".concat(n),children:[t.region,(0,b.jsx)(r,{onClick:()=>l(n,"region",t._id),className:"arrow-svg ".concat(a(n,"region"))})]})},_=e=>{let{index:n,lead:t,ArrowDown:r,toggleInputVisibility:l,toggleUserMenuDropArrow:a}=e;return(0,b.jsxs)("td",{className:"TableHeaderItem",id:"country-".concat(n),children:[t.country,(0,b.jsx)(r,{onClick:()=>l(n,"country",t._id),className:"arrow-svg ".concat(a(n,"country"))})]})},C=e=>{let{index:n,lead:t,ArrowDown:r,toggleInputVisibility:l,toggleUserMenuDropArrow:a}=e;return(0,b.jsxs)("td",{className:"TableHeaderItem",id:"status-".concat(n),children:[t.status,(0,b.jsx)(r,{onClick:()=>l(n,"status",t._id),className:"arrow-svg ".concat(a(n,"status"))})]})},T=e=>{let{lead:n}=e;const[t,r]=(0,y.useState)(new Date);(0,y.useEffect)((()=>{const e=setInterval((()=>{r(new Date)}),6e4);return()=>clearInterval(e)}),[]);return(0,b.jsx)("td",{className:"TableHeaderItem",style:{maxWidth:"60px"},children:(l=n.timeZone,new Date(t.getTime()+60*l*60*1e3).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:void 0}))});var l},L=()=>{const{isLeads:e}=(0,u.t)(),{userLeads:n,userLeadsComponent:t}=(0,h.a)(),[r,l]=(0,y.useState)(),a=(0,d.I0)();(0,y.useEffect)((()=>{(n||e)&&l(t?n:e)}),[e,t,n]);const{inputVisible:o,inputRef:i,dropdownRef:s,setInputVisible:c,handleTextareaChange:m,toggleUserMenuDropArrow:L,toggleInputVisibility:H}=(()=>{const[e,n]=(0,y.useState)(!1),[t,r]=(0,y.useState)({row:null,cell:null,leadId:null}),l=(0,y.useRef)(null),a=(0,y.useRef)(null),o=(0,d.I0)();(0,y.useEffect)((()=>{if(null!==t.row&&null!==t.cell){const e=document.getElementById("".concat(t.cell,"-").concat(t.row)),n=l.current,r=a.current;if(e&&(n||r)){const l=e.getBoundingClientRect();n&&(n.style.top="".concat(l.top+window.scrollY+l.height,"px"),n.style.left="".concat(l.left+window.scrollX,"px")),r&&(r.style.top="".concat(l.top+window.scrollY+l.height,"px"),r.style.left="".concat(l.left+window.scrollX,"px")),r&&"status"===t.cell&&(r.style.display="grid",r.style.top="".concat((l.top+window.scrollY+l.height)/2,"px"),r.style.left="".concat(l.right+window.scrollX,"px")),r&&"timeZone"===t.cell&&(r.style.display="flex",r.style.left="".concat((l.right+window.scrollX)/1.36,"px"))}}}),[t]);const i=(0,y.useCallback)((e=>{"Escape"===e.key&&(n(!1),r({row:null,cell:null}))}),[]),s=(0,y.useCallback)((e=>{if(!e.target.classList.contains("arrow-svg-close")&&(l.current&&!l.current.contains(e.target)||a.current&&!a.current.contains(e.target)))return n(!1),void r({row:null,cell:null})}),[]);return(0,y.useEffect)((()=>(document.addEventListener("keydown",i),document.addEventListener("click",s),()=>{document.removeEventListener("keydown",i),document.removeEventListener("click",s)})),[s,i]),{inputVisible:t,inputRef:l,isMenuBox:e,dropdownRef:a,setInputVisible:r,setMenuBox:n,handleTextareaChange:e=>{var n;(n=e.target).style.height="auto",n.style.height="".concat(n.scrollHeight,"px")},toggleUserMenuDropArrow:(e,n)=>t.row===e&&t.cell===n?"arrow-svg-close":"",toggleInputVisibility:(l,a,i)=>{"status"===a?o((0,f.lR)()):"timeZone"===a&&o((0,f.Ze)()),n(!1===e&&l),r(t.row===l&&t.cell===a?{row:null,cell:null}:{row:l,cell:a,leadId:i})}}})(),A=(e,n,t,o)=>{const i=[...r];"timeZone"===t?(a((0,f.f3)({id:o,leadTimeZone:n})),i[e]={...i[e],timeZone:n}):"status"===t&&(a((0,f.Cy)({id:o,leadStatus:n})),i[e]={...i[e],status:n}),l(i),c({row:null,cell:null})};return(0,b.jsxs)(g,{children:[(0,b.jsxs)("table",{className:"Table",children:[(0,b.jsx)("thead",{className:"TableHeader",children:(0,b.jsxs)("tr",{className:"TableHeaderList",children:[(0,b.jsx)("th",{className:"TableHeaderItem",children:"Client Id"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Name"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Last Name"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Email"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Phone"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Status"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Source"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Country"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Region"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"City"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Time Zone"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Client Time"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Self created"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Last update"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Created At"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Agent"}),(0,b.jsx)("th",{className:"TableHeaderItem",children:"Next call"})]})}),(0,b.jsx)("tbody",{children:r&&r.map(((e,n)=>(0,b.jsxs)("tr",{className:"WordList",children:[(0,b.jsx)("td",{className:"TableHeaderItem",children:e.clientId}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.name}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.lastName}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.email}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.phone}),(0,b.jsx)(C,{index:n,lead:e,ArrowDown:p.r,toggleInputVisibility:H,toggleUserMenuDropArrow:L}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.resource}),(0,b.jsx)(_,{index:n,lead:e,ArrowDown:p.r,toggleInputVisibility:H,toggleUserMenuDropArrow:L}),(0,b.jsx)(N,{index:n,lead:e,ArrowDown:p.r,toggleInputVisibility:H,toggleUserMenuDropArrow:L}),(0,b.jsx)(I,{index:n,lead:e,ArrowDown:p.r,toggleInputVisibility:H,toggleUserMenuDropArrow:L}),(0,b.jsx)(k,{lead:e,ArrowDown:p.r,toggleInputVisibility:H,index:n,toggleUserMenuDropArrow:L}),(0,b.jsx)(T,{lead:e}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.selfCreated?"Yes":"No"}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.updatedAt&&e.updatedAt.slice(0,16).replace("T"," ")}),(0,b.jsx)("td",{className:"TableHeaderItem",children:e.createdAt&&e.createdAt.slice(0,16).replace("T"," ")}),(0,b.jsx)("td",{className:"TableHeaderItem",style:{background:e.assigned?"none":"#ff000082"},children:e.conAgentId}),(0,b.jsx)(v,{lead:e})]},e._id)))})]}),(0,b.jsx)(j,{leads:r,inputVisible:o,inputRef:i,setLeads:l,handleTextareaChange:m,setInputVisible:c}),(0,b.jsx)(w,{inputVisible:o,dropdownRef:s,handleDropdownItemClick:A}),(0,b.jsx)(x,{inputVisible:o,dropdownRef:s,handleDropdownItemClick:A})]})};var H=t(9066),A=t(7055),M=t(905);const V=()=>{const{isAdmin:e}=(0,m.a)(),{isLeadLoading:n}=(0,u.t)(),{isLeadDetails:t}=(0,M.d)(),{availableUsersForAssign:r}=(0,h.a)(),l=(0,d.I0)();console.log("Users for Assign:",r);return(0,b.jsx)(o,{children:(0,b.jsxs)("div",{className:"wraper",children:[e&&(0,b.jsx)(s.OL,{to:"/",onClick:()=>{l((0,c.pg)())},children:(0,b.jsx)("h1",{children:"Back"})}),(0,b.jsxs)("div",{className:"content-container",children:[n&&!t?(0,b.jsx)(A.ql,{}):(0,b.jsx)(L,{}),(0,b.jsx)(H.t,{})]})]})})};var E;const D=a.ZP.div(E||(E=(0,l.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n        }\n    }\n\n    .nav-block{\n        display: flex;\n        align-items: center;\n        margin-bottom: 1rem;\n        justify-content: space-between;\n        font-weight: 600;\n        font-size: 1.25rem;\n    }\n\n    .modal-button{\n        display: flex;\n        align-items: center;\n        background-color: transparent;\n        gap: 0.25rem;\n        font-weight: 600;\n        font-size: 1.25rem;\n        color: ",";\n        transition: all ",";\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n\n    .link{\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        transition: all ",";\n        max-width: 30%;\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            transform: rotate(180deg);\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n    .titles{\n        font-weight: 700;\n        font-size: 1.5rem;\n        text-align: center;\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite));var S=t(8589),Z=t(8524),R=t(7531);const O=()=>{const{userName:e,userLeadsComponentData:n,isUserLeadsLoading:t}=(0,h.a)(),r=(0,d.I0)();return(0,b.jsx)(D,{children:(0,b.jsxs)("div",{className:"wraper",children:[(0,b.jsxs)("div",{className:"nav-block",children:[(0,b.jsxs)("button",{type:"button",className:"modal-button",onClick:()=>{r((0,Z.t3)())},children:[(0,b.jsx)(S.r,{className:"svg"}),"Back to User Information"]}),(0,b.jsxs)(s.OL,{className:"link",to:"/users",onClick:()=>{r((0,R.WK)())},children:["Back to Users",(0,b.jsx)(S.r,{className:"svg"})]})]}),(0,b.jsxs)("h1",{className:"titles",children:[e," all ",n," Leads details"]}),t?(0,b.jsx)(A.ql,{}):(0,b.jsx)(L,{})]})})};var B=t(6001);const U=()=>{const e=(0,d.I0)(),{userLeadsComponent:n}=(0,h.a)(),{isAdmin:t,forNoneAdminLogin:r}=(0,m.a)();return(0,y.useEffect)((()=>{r||n||t||e((0,B.aM)())}),[e,r,t,n]),(0,b.jsx)(b.Fragment,{children:n?(0,b.jsx)(O,{}):(0,b.jsx)(V,{})})}}}]);
//# sourceMappingURL=1.70c4d72a.chunk.js.map