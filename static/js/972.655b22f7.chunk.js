"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[972],{4972:(e,a,n)=>{n.r(a),n.d(a,{default:()=>N});var t,r=n(168),s=n(2978);const l=s.ZP.div(t||(t=(0,r.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    height: 90vh;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 87.5dvh;\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite));var c,o=n(1087),i=n(6081),d=n(4420),m=n(7039);const g=s.ZP.div(c||(c=(0,r.Z)(["\nborder: 1px solid ",";\nborder-radius: 0.625rem;\nmargin: 1.25rem 1rem 0.75rem 0;\n\n  .Table{\n  border-collapse: collapse;\n  width: 100%;\n  table-layout: fixed;\n\n  border-radius: 0.5rem;\n  overflow: hidden;\n  }\n\n  .TableHeader{\n    background: #e3ffa869;\n  }\n\n .TableHeaderList th{\n   padding: 1rem 0.25rem 1rem 0.25rem; \n  }\n\n    .TableHeaderItem {\n    padding: 0.25rem;\n    border-bottom: 1px solid ",";\n  \n    text-align: left;\n\n    font-weight: 500;\n    font-size: 0.5rem;\n\n    overflow-wrap: break-word;\n    text-align: center;\n  }\n\n .TableHeaderItem:not(:last-child){\n  border-right: 1px solid ",";\n }\n\n   .WordList textarea, select, input  {\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    border: none;\n    background: none;\n    resize: none;\n    overflow: hidden;\n    text-align: center;\n    align-items: center;\n    display: flex;\n    color: ",";\n\n        &:focus {\n      outline: none;\n      box-shadow: none;\n    }\n\n  }\n  .dropdown {\n    z-index: 1000;\n    position: absolute;\n    margin-top: 0.3125;\n    display: none;\n    gap: 0.5rem;\n\n    border-radius: 1rem;\n    padding: 0.75rem 0.5rem;\n    box-shadow: 0 0.25rem 3rem 0 rgba(18, 20, 23, 0.08);\n    background: ",";\n    color: black;\n  }\n\n  .ListItem {\n    cursor: pointer;\n\n    &:hover {\n      color:  #a2a59e;\n    }\n  }\n\n  /* #statistics:focus + .dropdown {\n    display: grid;\n  } */\n"])),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite));var h=n(2791);const u=JSON.parse('[{"_id":"6648df8a66add5c00902521a","name":"Test7","lastName":"Contact7","email":"testcontact7@gmail.com","phone":"+231321546221389","resource":"linkedin","branch":"Office1","role":"CRM Manager","managerId":"66471239045952a48bec09b9","conManagerId":"66576190f2629553dd2d829c","conAgentId":"663f7ac18d8e7d3766b8dc7b","externalLeadId":"664611f927318e9120e01402","assigned":true,"selfCreated":false,"clientId":958460,"status":"New","country":"England","region":"London","city":"London","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:06:16.311+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion Manager2","createdAt":"2024-05-17T15:31:24.538+00:00","updatedAt":"2024-05-29T18:06:16.312+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"}},{"_id":"6657460f26999ad41b4cb8c2","name":"Test9","lastName":"Contact9","email":"testcontact9@gmail.com","phone":"+231321546221389","resource":"instagram","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"6643c580df3e2a308c799f62","assigned":false,"selfCreated":false,"clientId":574491,"status":"New","country":"","region":"","city":"","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:07:50.755+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion Manager2","createdAt":"2024-05-29T15:13:19.542+00:00","updatedAt":"2024-05-29T18:07:50.756+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conManagerId":"66576190f2629553dd2d829c"},{"_id":"66574a1028e0ad808bee57f1","name":"Test10","lastName":"Contact10","email":"testcontact10@gmail.com","phone":"+231321546221389","resource":"Magazine","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"6643c580df3e2a308c799f62","assigned":true,"selfCreated":false,"clientId":113670,"status":"New","country":"","region":"","city":"","timeZone":4,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Administrator","email":"bigfunnyguy@gmail.com","branch":"Main","role":"Administrator","createdAt":"2024-06-02T14:49:54.592+00:00"},"comment":"The lead next call was changed to Fri May 31 2024 17:14:22 by the user\u2026","createdAt":"2024-05-29T15:30:24.043+00:00","updatedAt":"2024-06-02T14:49:54.594+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conAgentId":"663f7ac18d8e7d3766b8dc7b"},{"_id":"6657735cf3b3c8370ae16d72","name":"Test","lastName":"Contact","email":"test0contact@gmail.com","phone":"+231321546221389","resource":"Gazeta","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"6643c55edf3e2a308c799f5f","assigned":true,"selfCreated":false,"clientId":982656,"status":"New","country":"","region":"","city":"","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:30:37.341+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion\u2026","createdAt":"2024-05-29T18:26:36.477+00:00","updatedAt":"2024-05-29T18:30:37.341+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conAgentId":"663f7ac18d8e7d3766b8dc7b"},{"_id":"66577413f3b3c8370ae16d7e","name":"Test11","lastName":"Contact11","email":"testcontact11@gmail.com","phone":"+231321546221389","resource":"tv","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"665773a2f3b3c8370ae16d78","assigned":true,"selfCreated":true,"clientId":724921,"status":"New","country":"United States","region":"Washington","city":"Washington","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:30:50.628+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion\u2026","createdAt":"2024-05-29T18:29:39.667+00:00","updatedAt":"2024-05-29T18:30:50.629+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conAgentId":"663f7ac18d8e7d3766b8dc7b"},{"_id":"66577e84eb9a310fc4b32044","name":"Test7","lastName":"Contact7","email":"test07contact@gmail.com","phone":"+1113217777777777","resource":"Conversion Agent1","branch":"Office1","managerId":"66471239045952a48bec09b9","owner":{"username":"SonGlad","email":"Bunny@gmail.com","id":"663f72888d8e7d3766b8dc42","role":"Developer"},"assigned":false,"selfCreated":true,"clientId":650228,"status":"New","country":"Belgium","region":"Walonie","city":"Genappe","timeZone":1,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"SonGlad","email":"Bunny@gmail.com","role":"Developer","branch":"Main","createdAt":"2024-05-29T19:14:12.895+00:00"},"comment":"New Lead Was Created in Office 1 branch by user SonGlad","createdAt":"2024-05-29T19:14:12.915+00:00","updatedAt":"2024-05-29T19:14:12.915+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"}},{"_id":"665783e3af0f9a87ac6b7e65","name":"Test12","lastName":"Contact12","email":"test012contact@gmail.com","phone":"+1113217777777777","resource":"Conversion Agent1","branch":"Office1","managerId":"66471239045952a48bec09b9","owner":{"username":"Conversion Agent1","email":"Wolf@gmail.com","id":"663f7ac18d8e7d3766b8dc7b","role":"Conversion Agent"},"assigned":false,"selfCreated":true,"clientId":117505,"status":"New","country":"Ukraine","region":"kharkiv","city":"Kharkiv","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Agent1","email":"Wolf@gmail.com","role":"Conversion Agent","branch":"Office1","createdAt":"2024-05-29T19:37:07.859+00:00"},"comment":"New Lead Was Created in Office 1 branch by user Conversion Agent1","createdAt":"2024-05-29T19:37:07.876+00:00","updatedAt":"2024-05-29T19:37:07.876+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"}}]'),b=JSON.parse('["New","N/A","Wrong Number","Wrong Person","Potential","Not Interested","In the Money","Call Back 1","Call Back 2","Call Back 3","Not Potential","Reassign","Never Answer"]'),f=JSON.parse('["-12","-11","-10","-9","-8","-7","-6","-5","-4","-3","-2","-1","0","+1","+2","+3","+4","+5","+6","+7","+8","+9","+10","+11","+12"]');var x=n(9388),p=n(184);function C(){const[e,a]=(0,h.useState)(u),[n,t]=(0,h.useState)(!1),[r,s]=(0,h.useState)({row:null,cell:null}),l=(0,h.useRef)(null),c=(n,t,r)=>{const s=[...e],l=r.split(".");2===l.length?s[t][l[0]][l[1]]=n.target.value:s[t][r]=n.target.value,a(s)},o=e=>{e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},i=e=>{o(e.target)};(0,h.useEffect)((()=>{document.querySelectorAll("textarea").forEach((e=>{o(e)}))}),[e]);const d=e=>{const a=new Date;return new Date(a.getTime()+60*e*60*1e3).toLocaleString()},m=(e,a)=>{t(n===e?null:e),s(r.row===e&&r.cell===a?{row:null,cell:null}:{row:e,cell:a})},C=(e,a)=>r.row===e&&r.cell===a?"arrow-svg-close":"";return(0,h.useEffect)((()=>{if(null!==r.row&&null!==r.cell){const e=document.getElementById("".concat(r.cell,"-").concat(r.row)),a=l.current;if(e&&a){const n=e.getBoundingClientRect();a.style.top="".concat(n.top+window.scrollY+n.height,"px"),a.style.left="".concat(n.left+window.scrollX,"px")}}}),[r]),(0,p.jsxs)(g,{children:[(0,p.jsxs)("table",{className:"Table",children:[(0,p.jsx)("thead",{className:"TableHeader",children:(0,p.jsxs)("tr",{className:"TableHeaderList",children:[(0,p.jsx)("th",{className:"TableHeaderItem",children:"Client Id"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Name"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Last Name"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Email"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Phone"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Status"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Source"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Country"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Region"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"City"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Time Zone"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Client Time"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Self created"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Last update"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Created At"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Agent"}),(0,p.jsx)("th",{className:"TableHeaderItem",children:"Next call"})]})}),(0,p.jsx)("tbody",{children:e&&e.map(((n,t)=>(0,p.jsxs)("tr",{className:"WordList",children:[(0,p.jsx)("td",{className:"TableHeaderItem",children:n.clientId}),(0,p.jsx)("td",{className:"TableHeaderItem",children:n.name}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"lastName-".concat(t),children:[n.lastName,(0,p.jsx)(x.r,{onClick:()=>m(t,"lastName"),className:"arrow-svg ".concat(C(t,"lastName"))})]}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"email-".concat(t),children:[n.email,(0,p.jsx)(x.r,{onClick:()=>m(t,"email"),className:"arrow-svg ".concat(C(t,"email"))})]}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"phone-".concat(t),children:[n.phone,(0,p.jsx)(x.r,{onClick:()=>m(t,"phone"),className:"arrow-svg ".concat(C(t,"phone"))})]}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"status-".concat(t),children:[n.status,(0,p.jsx)(x.r,{onClick:()=>m(t,"status"),className:"arrow-svg ".concat(C(t,"status"))})]}),(0,p.jsx)("ul",{className:"dropdown",style:{display:"status"===r.cell?"grid":"none"},children:null!==r.row&&"status"===r.cell&&b.map(((n,r)=>(0,p.jsx)("li",{className:"ListItem",value:n,onClick:()=>((n,t)=>{const r=[...e];r[n].status=t,a(r)})(t,n),children:n},r)))}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"resource-".concat(t),children:[n.resource,(0,p.jsx)(x.r,{onClick:()=>m(t,"resource"),className:"arrow-svg ".concat(C(t,"resource"))})]}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"country-".concat(t),children:[n.country,(0,p.jsx)(x.r,{onClick:()=>m(t,"country"),className:"arrow-svg ".concat(C(t,"country"))})]}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"region-".concat(t),children:[n.region,(0,p.jsx)(x.r,{onClick:()=>m(t,"region"),className:"arrow-svg ".concat(C(t,"region"))})]}),(0,p.jsxs)("td",{className:"TableHeaderItem",id:"city-".concat(t),children:[n.city,(0,p.jsx)(x.r,{onClick:()=>m(t,"city"),className:"arrow-svg ".concat(C(t,"city"))})]}),(0,p.jsx)("td",{className:"TableHeaderItem",children:(0,p.jsx)("select",{value:n.timeZone,onChange:e=>c(e,t,"timeZone"),children:f.map(((e,a)=>(0,p.jsx)("option",{value:e,children:e},a)))})}),(0,p.jsx)("td",{className:"TableHeaderItem",children:d(n.timeZone)}),(0,p.jsx)("td",{className:"TableHeaderItem",children:n.selfCreated?"Yes":"No"}),(0,p.jsx)("td",{className:"TableHeaderItem",children:n.latestComment.updatedAt.slice(0,19).replace("T"," ")}),(0,p.jsx)("td",{className:"TableHeaderItem",children:n.latestComment.createdAt.slice(0,19).replace("T"," ")}),(0,p.jsx)("td",{className:"TableHeaderItem",style:{background:n.assigned?"none":"#ff000082"},children:n.conAgentId}),(0,p.jsx)("td",{className:"TableHeaderItem",children:(0,p.jsx)("label",{children:(0,p.jsx)("input",{type:"datetime-local",value:n.latestComment.nextCall.toString().slice(0,16),onChange:e=>c(e,t,"latestComment.nextCall"),onInput:i})})})]},n._id)))})]}),null!==r.row&&null!==r.cell&&"status"!==r.cell&&(0,p.jsxs)("form",{className:"InputContainer",ref:l,children:[(0,p.jsx)("input",{value:e[r.row][r.cell],onChange:e=>c(e,r.row,r.cell),onInput:i}),(0,p.jsx)("button",{className:"ButtonSave",type:"submit",children:"Save"})]})]})}const T=()=>{const{isAdmin:e}=(0,m.a)(),a=(0,d.I0)();return(0,p.jsx)(l,{children:(0,p.jsxs)("div",{className:"wraper",children:[e&&(0,p.jsx)(o.OL,{to:"/",onClick:()=>{a((0,i.CT)())},children:(0,p.jsx)("h1",{children:"Back"})}),(0,p.jsx)(C,{})]})})},N=()=>(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(T,{})})}}]);
//# sourceMappingURL=972.655b22f7.chunk.js.map