"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[475],{7475:(e,n,a)=>{a.r(n),a.d(n,{default:()=>N});var t,r=a(168),l=a(2978);const s=l.ZP.div(t||(t=(0,r.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    height: 90vh;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 87.5dvh;\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite));var o,c=a(1087),i=a(6081),d=a(4420),m=a(6677),g=a(7039);const h=l.ZP.div(o||(o=(0,r.Z)(["\n  border: 1px solid ",';\n  border-radius: 0.625rem;\n  width: 100%;\n\n  .Table {\n    border-collapse: collapse;\n    table-layout: fixed;\n    border-radius: 0.5rem;\n    overflow: hidden;\n  }\n\n  .TableHeader {\n    background: #e3ffa869;\n  }\n\n  .TableHeaderList th {\n    padding: 1rem 0.25rem 1rem 0.25rem;\n  }\n\n  td[id^="lastName-"],\n  td[id^="email-"],\n  td[id^="phone-"],\n  td[id^="resourse-"],\n  td[id^="country-"],\n  td[id^="region-"],\n  td[id^="city-"] {\n    max-width: 70px;\n    max-height: 50px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    position: relative;\n  }\n\n  .TableHeaderItem {\n    padding:0.5rem 0.25rem;\n    border-bottom: 1px solid ',";\n    text-align: left;\n    font-weight: 500;\n    font-size: 0.5rem;\n    overflow-wrap: break-word;\n    text-align: center;\n    position: relative;\n  }\n\n  .TableHeaderItem:not(:last-child) {\n    border-right: 1px solid ",";\n  }\n\n  .WordList textarea,\n  select,\n  input {\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    border: none;\n    background: none;\n    resize: none;\n    overflow: hidden;\n    text-align: center;\n    align-items: center;\n    display: flex;\n    color: ",";\n    position: relative;\n\n    &:focus {\n      outline: none;\n      box-shadow: none;\n    }\n  }\n\n  .dropdown {\n    z-index: 1000;\n    position: absolute;\n    margin-top: 0.3125rem;\n    display: none;\n    gap: 0.5rem;\n    border-radius: 1rem;\n    padding: 0.75rem 0.5rem;\n    box-shadow: 0 0.25rem 3rem 0 rgba(18, 20, 23, 0.08);\n    background: ",";\n    color: black;\n  }\n\n  .ListItem {\n    cursor: pointer;\n\n    &:hover {\n      color: #a2a59e;\n    }\n  }\n\n\n  .arrow-svg {\n    width: 0.875rem;\n    height: 0.875rem;\n    stroke: ",";\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    position: absolute;\n    left: 5px;\n    bottom: 0px;\n  }\n\n  .arrow-svg-close {\n    transform: rotate(180deg);\n  }\n\n  .InputContainer {\n    display: flex;\n    position: absolute;\n    background: #e3ffa8e0;\n    border-radius: 10px;\n    padding: 10px;\n    z-index: 9999;\n    width: max-content;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  }\n\n  .InputContainer input {\n    color: black;\n  }\n\n  .ButtonSave {\n    border-radius: 5px;\n    background: black;\n    color: white;\n    border: none;\n  }\n"])),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite));var b=a(2791);const u=JSON.parse('[{"_id":"6648df8a66add5c00902521a","name":"Test7","lastName":"Contact7","email":"testcontact7@gmail.com","phone":"+231321546221389","resource":"linkedin","branch":"Office1","role":"CRM Manager","managerId":"66471239045952a48bec09b9","conManagerId":"66576190f2629553dd2d829c","conAgentId":"663f7ac18d8e7d3766b8dc7b","externalLeadId":"664611f927318e9120e01402","assigned":true,"selfCreated":false,"clientId":958460,"status":"New","country":"England","region":"London","city":"London","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:06:16.311+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion Manager2","createdAt":"2024-05-17T15:31:24.538+00:00","updatedAt":"2024-05-29T18:06:16.312+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"}},{"_id":"6657460f26999ad41b4cb8c2","name":"Test9","lastName":"Contact9","email":"testcontact9@gmail.com","phone":"+231321546221389","resource":"instagram","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"6643c580df3e2a308c799f62","assigned":false,"selfCreated":false,"clientId":574491,"status":"New","country":"","region":"","city":"","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:07:50.755+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion Manager2","createdAt":"2024-05-29T15:13:19.542+00:00","updatedAt":"2024-05-29T18:07:50.756+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conManagerId":"66576190f2629553dd2d829c"},{"_id":"66574a1028e0ad808bee57f1","name":"Test10","lastName":"Contact10","email":"testcontact10@gmail.com","phone":"+231321546221389","resource":"Magazine","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"6643c580df3e2a308c799f62","assigned":true,"selfCreated":false,"clientId":113670,"status":"New","country":"","region":"","city":"","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Administrator","email":"bigfunnyguy@gmail.com","branch":"Main","role":"Administrator","createdAt":"2024-06-02T14:49:54.592+00:00"},"comment":"The lead next call was changed to Fri May 31 2024 17:14:22 by the user\u2026","createdAt":"2024-05-29T15:30:24.043+00:00","updatedAt":"2024-06-02T14:49:54.594+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conAgentId":"663f7ac18d8e7d3766b8dc7b"},{"_id":"6657735cf3b3c8370ae16d72","name":"Test","lastName":"Contact","email":"test0contact@gmail.com","phone":"+231321546221389","resource":"Gazeta","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"6643c55edf3e2a308c799f5f","assigned":true,"selfCreated":false,"clientId":982656,"status":"New","country":"","region":"","city":"","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:30:37.341+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion\u2026","createdAt":"2024-05-29T18:26:36.477+00:00","updatedAt":"2024-05-29T18:30:37.341+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conAgentId":"663f7ac18d8e7d3766b8dc7b"},{"_id":"66577413f3b3c8370ae16d7e","name":"Test11","lastName":"Contact11","email":"testcontact11@gmail.com","phone":"+231321546221389","resource":"tv","branch":"Office1","managerId":"66471239045952a48bec09b9","externalLeadId":"665773a2f3b3c8370ae16d78","assigned":true,"selfCreated":true,"clientId":724921,"status":"New","country":"United States","region":"Washington","city":"Washington","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Manager2","email":"R1231AJHAH231234@gmail.com","branch":"Office1","role":"Conversion Manager","createdAt":"2024-05-29T18:30:50.628+00:00"},"comment":"Current lead was reassigned from agent Conversion Agent1 to Conversion\u2026","createdAt":"2024-05-29T18:29:39.667+00:00","updatedAt":"2024-05-29T18:30:50.629+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"},"conAgentId":"663f7ac18d8e7d3766b8dc7b"},{"_id":"66577e84eb9a310fc4b32044","name":"Test7","lastName":"Contact7","email":"test07contact@gmail.com","phone":"+1113217777777777","resource":"Conversion Agent1","branch":"Office1","managerId":"66471239045952a48bec09b9","owner":{"username":"SonGlad","email":"Bunny@gmail.com","id":"663f72888d8e7d3766b8dc42","role":"Developer"},"assigned":false,"selfCreated":true,"clientId":650228,"status":"New","country":"Belgium","region":"Walonie","city":"Genappe","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"SonGlad","email":"Bunny@gmail.com","role":"Developer","branch":"Main","createdAt":"2024-05-29T19:14:12.895+00:00"},"comment":"New Lead Was Created in Office 1 branch by user SonGlad","createdAt":"2024-05-29T19:14:12.915+00:00","updatedAt":"2024-05-29T19:14:12.915+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"}},{"_id":"665783e3af0f9a87ac6b7e65","name":"Test12","lastName":"Contact12","email":"test012contact@gmail.com","phone":"+1113217777777777","resource":"Conversion Agent1","branch":"Office1","managerId":"66471239045952a48bec09b9","owner":{"username":"Conversion Agent1","email":"Wolf@gmail.com","id":"663f7ac18d8e7d3766b8dc7b","role":"Conversion Agent"},"assigned":false,"selfCreated":true,"clientId":117505,"status":"New","country":"Ukraine","region":"kharkiv","city":"Kharkiv","timeZone":0,"KYC":{"trading":false,"experience":"beginner","investment":"0-500","time":"0-5","riskTolerance":"low","profitGoal":"conservative"},"latestComment":{"createdBy":{"username":"Conversion Agent1","email":"Wolf@gmail.com","role":"Conversion Agent","branch":"Office1","createdAt":"2024-05-29T19:37:07.859+00:00"},"comment":"New Lead Was Created in Office 1 branch by user Conversion Agent1","createdAt":"2024-05-29T19:37:07.876+00:00","updatedAt":"2024-05-29T19:37:07.876+00:00","nextCall":"2024-05-31T15:14:22.000+00:00"}}]'),f=JSON.parse('["New","N/A","Wrong Number","Wrong Person","Potential","Not Interested","In the Money","Call Back 1","Call Back 2","Call Back 3","Not Potential","Reassign","Never Answer"]'),p=JSON.parse('["-12","-11","-10","-9","-8","-7","-6","-5","-4","-3","-2","-1","0","+1","+2","+3","+4","+5","+6","+7","+8","+9","+10","+11","+12"]');var x=a(9388),C=a(184);function T(){const[e,n]=(0,b.useState)(u),[a,t]=(0,b.useState)(!1),[r,l]=(0,b.useState)({row:null,cell:null}),s=(0,b.useRef)(null),o=(a,t,r)=>{const l=[...e],s=r.split(".");2===s.length?l[t][s[0]][s[1]]=a.target.value:l[t][r]=a.target.value,n(l)},c=e=>{e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},i=e=>{c(e.target)};(0,b.useEffect)((()=>{document.querySelectorAll("textarea").forEach((e=>{c(e)}))}),[e]);const d=e=>{const n=new Date;return new Date(n.getTime()+60*e*60*1e3).toLocaleString()},m=(e,n)=>{t(a===e?null:e),l(r.row===e&&r.cell===n?{row:null,cell:null}:{row:e,cell:n})},g=(e,n)=>r.row===e&&r.cell===n?"arrow-svg-close":"";return(0,b.useEffect)((()=>{if(null!==r.row&&null!==r.cell){const e=document.getElementById("".concat(r.cell,"-").concat(r.row)),n=s.current;if(e&&n){const a=e.getBoundingClientRect();n.style.top="".concat(a.top+window.scrollY+a.height,"px"),n.style.left="".concat(a.left+window.scrollX,"px")}}}),[r]),(0,C.jsxs)(h,{children:[(0,C.jsxs)("table",{className:"Table",children:[(0,C.jsx)("thead",{className:"TableHeader",children:(0,C.jsxs)("tr",{className:"TableHeaderList",children:[(0,C.jsx)("th",{className:"TableHeaderItem",children:"Client Id"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Name"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Last Name"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Email"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Phone"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Status"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Source"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Country"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Region"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"City"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Time Zone"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Client Time"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Self created"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Last update"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Created At"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Agent"}),(0,C.jsx)("th",{className:"TableHeaderItem",children:"Next call"})]})}),(0,C.jsx)("tbody",{children:e&&e.map(((a,t)=>(0,C.jsxs)("tr",{className:"WordList",children:[(0,C.jsx)("td",{className:"TableHeaderItem",children:a.clientId}),(0,C.jsx)("td",{className:"TableHeaderItem",children:a.name}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"lastName-".concat(t),children:[a.lastName,(0,C.jsx)(x.r,{onClick:()=>m(t,"lastName"),className:"arrow-svg ".concat(g(t,"lastName"))})]}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"email-".concat(t),children:[a.email,(0,C.jsx)(x.r,{onClick:()=>m(t,"email"),className:"arrow-svg ".concat(g(t,"email"))})]}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"phone-".concat(t),children:[a.phone,(0,C.jsx)(x.r,{onClick:()=>m(t,"phone"),className:"arrow-svg ".concat(g(t,"phone"))})]}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"status-".concat(t),children:[a.status,(0,C.jsx)(x.r,{onClick:()=>m(t,"status"),className:"arrow-svg ".concat(g(t,"status"))})]}),(0,C.jsx)("ul",{className:"dropdown",style:{display:"status"===r.cell?"grid":"none"},children:null!==r.row&&"status"===r.cell&&f.map(((a,r)=>(0,C.jsx)("li",{className:"ListItem",value:a,onClick:()=>((a,t)=>{const r=[...e];r[a].status=t,n(r)})(t,a),children:a},r)))}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"resource-".concat(t),children:[a.resource,(0,C.jsx)(x.r,{onClick:()=>m(t,"resource"),className:"arrow-svg ".concat(g(t,"resource"))})]}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"country-".concat(t),children:[a.country,(0,C.jsx)(x.r,{onClick:()=>m(t,"country"),className:"arrow-svg ".concat(g(t,"country"))})]}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"region-".concat(t),children:[a.region,(0,C.jsx)(x.r,{onClick:()=>m(t,"region"),className:"arrow-svg ".concat(g(t,"region"))})]}),(0,C.jsxs)("td",{className:"TableHeaderItem",id:"city-".concat(t),children:[a.city,(0,C.jsx)(x.r,{onClick:()=>m(t,"city"),className:"arrow-svg ".concat(g(t,"city"))})]}),(0,C.jsx)("td",{className:"TableHeaderItem",children:(0,C.jsx)("select",{value:a.timeZone,onChange:e=>o(e,t,"timeZone"),children:p.map(((e,n)=>(0,C.jsx)("option",{value:e,children:e},n)))})}),(0,C.jsx)("td",{className:"TableHeaderItem",children:d(a.timeZone)}),(0,C.jsx)("td",{className:"TableHeaderItem",children:a.selfCreated?"Yes":"No"}),(0,C.jsx)("td",{className:"TableHeaderItem",children:a.latestComment.updatedAt.slice(0,19).replace("T"," ")}),(0,C.jsx)("td",{className:"TableHeaderItem",children:a.latestComment.createdAt.slice(0,19).replace("T"," ")}),(0,C.jsx)("td",{className:"TableHeaderItem",style:{background:a.assigned?"none":"#ff000082"},children:a.conAgentId}),(0,C.jsx)("td",{className:"TableHeaderItem",children:(0,C.jsx)("label",{children:(0,C.jsx)("input",{type:"datetime-local",value:a.latestComment.nextCall.toString().slice(0,16),onChange:e=>o(e,t,"latestComment.nextCall"),onInput:i})})})]},a._id)))})]}),null!==r.row&&null!==r.cell&&"status"!==r.cell&&(0,C.jsxs)("form",{className:"InputContainer",ref:s,children:[(0,C.jsx)("input",{value:e[r.row][r.cell],onChange:e=>o(e,r.row,r.cell),onInput:i}),(0,C.jsx)("button",{className:"ButtonSave",type:"submit",children:"Save"})]})]})}const v=()=>{const{isAdmin:e}=(0,g.a)(),{leadOffice:n}=(0,m.t)(),a=(0,d.I0)();console.log(n);return(0,C.jsx)(s,{children:(0,C.jsxs)("div",{className:"wraper",children:[e&&(0,C.jsx)(c.OL,{to:"/",onClick:()=>{a((0,i.CT)())},children:(0,C.jsx)("h1",{children:"Back"})}),(0,C.jsx)(T,{})]})})},N=()=>(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(v,{})})}}]);
//# sourceMappingURL=475.718447c2.chunk.js.map