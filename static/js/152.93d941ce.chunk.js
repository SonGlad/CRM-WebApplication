"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[152],{8589:(e,n,t)=>{t.d(n,{r:()=>o});var r,a=t(2791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}function s(e,n){let{title:t,titleId:s,...o}=e;return a.createElement("svg",i({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":s},o),t?a.createElement("title",{id:s},t):null,r||(r=a.createElement("g",{id:"vuesax/linear/arrow-right"},a.createElement("g",{id:"arrow-right"},a.createElement("path",{id:"Vector",d:"M6.38 3.95312L2.33334 7.99979L6.38 12.0465",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{id:"Vector_2",d:"M13.6667 8H2.44666",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})))))}const o=a.forwardRef(s);t.p},9066:(e,n,t)=>{t.d(n,{t:()=>C});var r,a,i=t(168),s=t(2978);const o=s.ZP.div(r||(r=(0,i.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: auto;\n\n    .pagination-block{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.625rem;\n    }\n\n\n    .left-button-block,\n    .right-button-block{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.625rem;\n    }\n\n    .paginaton-button{\n        border-radius: 50%;\n        padding: 0.25rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        scale: calc(1);\n        transition: scale ",";\n\n        & .arrow-icon{\n            width: 1rem;\n            height: 1rem;\n        }\n        & .icon{\n            width: 0.75rem;\n            height: 0.75rem;\n        }\n        & .left-arrow{\n            transform: rotate(90deg);\n        }\n        & .right-arrow{\n            transform: rotate(-90deg);\n        }\n        &:hover{\n            scale: calc(1.2);\n        }\n    }\n\n    .right-button-block{\n        & button {\n            background-color: ",";\n\n            & .right-arrow{\n                stroke: ",";\n            }\n            & .arrow-icon{\n                fill: ",";\n            }\n\n            &:disabled{\n                scale: calc(1);\n                pointer-events: none;\n\n                & .arrow-icon{\n                    fill: ",";\n                }\n                & .right-arrow{\n                    stroke: ",";\n                }\n            }\n\n        }\n        \n    }\n\n    .left-button-block{\n        & button {\n            background-color: ",";\n\n            & .left-arrow{\n                stroke: ",";\n            }\n            & .arrow-icon{\n                fill: ",";\n            }\n\n            &:disabled{\n                scale: calc(1);\n                pointer-events: none;\n\n                & .left-arrow{\n                    stroke: ",";\n                }\n                & .arrow-icon{\n                    fill: ",";\n                }\n            }\n        }\n    }\n\n    .button{\n        padding: 0.375rem;\n    }\n"])),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_grey),(e=>e.theme.color.for_modal_color),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_white),(e=>e.theme.color.background),(e=>e.theme.color.background)),l=s.ZP.div(a||(a=(0,i.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 0.375rem;\n\n    .content-list{\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        max-width: 17.875rem;\n        overflow-x: auto;\n        scroll-snap-type: x mandatory;\n        padding: 0 2px;\n\n        &::-webkit-scrollbar {\n            display: none;\n        }\n        &::-webkit-scrollbar-thumb {\n            display: none;\n        }\n    }\n\n    .content-item {\n        scroll-snap-align: center;\n        padding: 0;\n    }\n\n    .button-background{\n        font-size: 0.75rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 0.25rem;\n        width: 1.5rem;\n        height: 1.5rem;\n        border-radius: 50%;\n        background-color: pink;\n        background-color: ",";\n        color: ",";\n        transition: all ",";\n\n        &:hover{\n            background-color: ",";\n            color: ",";\n        }\n    }\n\n    .button-active{\n        background-color: ",";\n        color: ",";\n    }\n"])),(e=>e.theme.color.for_modal_color),(e=>e.theme.color.primary_white),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black));var c,d=t(2791);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m.apply(this,arguments)}function h(e,n){let{title:t,titleId:r,...a}=e;return d.createElement("svg",m({className:"icon icon-angle-double-right",ref:n,"aria-labelledby":r},a),t?d.createElement("title",{id:r},t):null,c||(c=d.createElement("use",{xlinkHref:"#icon-angle-double-right"},d.createElement("symbol",{id:"icon-angle-double-right",viewBox:"0 0 16 28"},d.createElement("path",{d:"M9.297 15c0 0.125-0.063 0.266-0.156 0.359l-7.281 7.281c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-0.781-0.781c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l6.141-6.141-6.141-6.141c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l0.781-0.781c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l7.281 7.281c0.094 0.094 0.156 0.234 0.156 0.359zM15.297 15c0 0.125-0.063 0.266-0.156 0.359l-7.281 7.281c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-0.781-0.781c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l6.141-6.141-6.141-6.141c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l0.781-0.781c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l7.281 7.281c0.094 0.094 0.156 0.234 0.156 0.359z"})))))}const u=d.forwardRef(h);t.p;var g;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(this,arguments)}function b(e,n){let{title:t,titleId:r,...a}=e;return d.createElement("svg",p({className:"icon icon-angle-double-left",ref:n,"aria-labelledby":r},a),t?d.createElement("title",{id:r},t):null,g||(g=d.createElement("use",{xlinkHref:"#icon-angle-double-left"},d.createElement("symbol",{id:"icon-angle-double-left",viewBox:"0 0 16 28"},d.createElement("path",{d:"M9.797 21.5c0 0.125-0.063 0.266-0.156 0.359l-0.781 0.781c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-7.281-7.281c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l7.281-7.281c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l0.781 0.781c0.094 0.094 0.156 0.234 0.156 0.359s-0.063 0.266-0.156 0.359l-6.141 6.141 6.141 6.141c0.094 0.094 0.156 0.234 0.156 0.359zM15.797 21.5c0 0.125-0.063 0.266-0.156 0.359l-0.781 0.781c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-7.281-7.281c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l7.281-7.281c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l0.781 0.781c0.094 0.094 0.156 0.234 0.156 0.359s-0.063 0.266-0.156 0.359l-6.141 6.141 6.141 6.141c0.094 0.094 0.156 0.234 0.156 0.359z"})))))}const x=d.forwardRef(b);t.p;var f=t(9388),v=t(184);const y=(0,d.forwardRef)(((e,n)=>{let{firstVisible:t,clickOnFirstVisible:r,listRef:a,elements:i,toggleButtonBackground:s,setButtonActive:o,lastVisible:c,clickOnLastVisible:d}=e;return(0,v.jsxs)(l,{children:[t&&(0,v.jsx)("button",{type:"button",className:"button-background",onClick:r,children:(0,v.jsx)("p",{children:"..."})}),(0,v.jsx)("ul",{className:"content-list",ref:a,children:i.map(((e,n)=>(0,v.jsx)("li",{className:"content-item",children:(0,v.jsx)("button",{type:"button",className:"button-background ".concat(s(n+1)),onClick:()=>o(n+1),children:(0,v.jsx)("p",{children:e})})},n)))}),c&&(0,v.jsx)("button",{type:"button",className:"button-background",onClick:d,children:(0,v.jsx)("p",{children:"..."})})]})}));var w=t(3544),k=t(7039),j=t(2865),_=t(6677),N=t(4420);const C=()=>{const e=(0,N.I0)(),{isAdmin:n,isManager:t,isConversion:r}=(0,k.a)(),{totalPages:a,leadOffice:i,leadsAmountPerPage:s}=(0,_.t)(),{userLeadsComponent:l}=(0,j.a)(),[c,m]=(0,d.useState)(1),[h,g]=(0,d.useState)(!1),[p,b]=(0,d.useState)(!1),[C,M]=(0,d.useState)(0),[I,E]=(0,d.useState)(0),[L,T]=(0,d.useState)(!1),[A,S]=(0,d.useState)(!1),H=(0,d.useRef)(null);let O;O=a?Number(a):1;const Z=Array.from({length:O},((e,n)=>n+1)),z=c.toString(),R=s.toString();(0,d.useEffect)((()=>{(n||t||r)&&!l&&e((0,w.oC)({page:z,limit:R,branch:i}))}),[e,n,r,t,i,R,z,l]),(0,d.useEffect)((()=>{if(H.current){const e=H.current.querySelector(".button-active");e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}),[c]),(0,d.useEffect)((()=>{Z.length>9&&(b(!0),M(10)),Z.length>1&&S(!0),Z.length<9&&b(!1),1===Z.length&&(S(!1),b(!1))}),[Z.length]);return(0,v.jsx)(o,{children:(0,v.jsxs)("div",{className:"pagination-block",children:[(0,v.jsxs)("div",{className:"left-button-block",children:[(0,v.jsx)("button",{type:"button",className:"paginaton-button",onClick:()=>{m(1),S(!0),T(!1),Z.length>9&&(b(!0),g(!1),M(10),E(0))},disabled:!L,children:(0,v.jsx)(x,{className:"arrow-icon",width:16,height:16})}),(0,v.jsx)("button",{type:"button",className:"paginaton-button button",onClick:()=>{if(c>=2&&(m((e=>e-1)),S(!0)),c-1<=1&&T(!1),Z.length>9&&Z.length-c>=4){b(!0);const e=Math.max(10,c+4);M(e>Z.length?Z.length:e);const n=c-6;E(n>1?n:1)}Z.length>9&&c<=6&&g(!1)},disabled:!L,children:(0,v.jsx)(f.r,{className:"icon left-arrow",width:12,height:12})})]}),(0,v.jsx)(y,{firstVisible:h,clickOnFirstVisible:()=>{m(I),S(!0);const e=I-5,n=Z.length-9,t=Math.min(e,n);E(Math.max(t,0)),1===I&&T(!1),c<=10&&g(!1),Z.length>=c&&b(!0);const r=I+5,a=Math.min(Math.max(r,10),Z.length);M(a)},listRef:H,elements:Z,toggleButtonBackground:e=>e===c?"button-active":"",setButtonActive:e=>{m(e);const n=Z.length-e,t=Z.length>9;if(g(t&&e>5),b(t&&n>=5),t){const n=Math.max(Math.min(e+5,Z.length),10),t=Z.length-9,r=Math.max(e-5,1),a=r>t?t:r;M(n),E(a)}else g(!1),b(!1);T(e>1),S(e<Z.length)},lastVisible:p,clickOnLastVisible:()=>{m(C),g(!0),T(!0);const e=Math.min(Z.length,C+5);M(e),e>=Z.length&&b(!1),C===Z.length&&S(!1);const n=C-5,t=Z.length-9,r=Math.min(n,t);E(r)}}),(0,v.jsxs)("div",{className:"right-button-block",children:[(0,v.jsx)("button",{type:"button",className:"paginaton-button button",onClick:()=>{if(c<=Z.length-1&&(m((e=>e+1)),T(!0)),Z.length-c<=5&&b(!1),c+1===Z.length&&S(!1),Z.length>9&&c>=5){g(!0);const e=c+6;M(e>Z.length?Z.length:e);const n=c-4;E(n>Z.length-9?Z.length-9:n)}},disabled:!A,children:(0,v.jsx)(f.r,{className:"icon right-arrow",width:12,height:12})}),(0,v.jsx)("button",{type:"button",className:"paginaton-button",onClick:()=>{m(Z.length),S(!1),T(!0),Z.length>9&&(b(!1),g(!0),M(Z.length),E(Z.length-9))},disabled:!A,children:(0,v.jsx)(u,{className:"arrow-icon",width:16,height:16})})]})]})})}},6152:(e,n,t)=>{t.r(n),t.d(n,{default:()=>X});var r,a=t(168),i=t(2978);const s=i.ZP.div(r||(r=(0,a.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    .content-container{\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        flex-grow: 1;\n    }\n\n    .nav-block{\n        display: flex;\n        align-items: center;\n        justify-content: ",";\n        margin-bottom: 1rem;\n    }\n\n    .link{\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        margin-right: 32%;\n        transition: all ",";\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n    .titles{\n        font-weight: 700;\n        font-size: 1.5rem\n    }\n\n\n    .filter-block{\n        margin-bottom: 2rem;\n    }\n\n    \n    .filter-list{\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n        justify-content: center;\n        font-weight: 500;\n        line-height: 1.25rem;\n    }\n\n    .small-table{\n        border-right: 1px solid ",";\n\n        & tbody{\n            & tr{\n                & td:last-child{\n                    border-right: none;\n                }\n            }\n\n            & tr:last-child{\n                & td{\n                    border-bottom: 1px solid ",";\n                }\n            }\n        }\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite),(e=>e.$isAdmin?"none":"center"),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite));var o,l,c=t(8589),d=t(1087),m=t(6081),h=t(7531),u=t(4420),g=t(7039),p=t(2865),b=t(6677);const x=i.ZP.div(o||(o=(0,a.Z)(["\n  color: ",";\n  overflow-y: auto;\n  height: 74dvh;\n  position: relative;\n  border: 1px solid ",";\n  border-right: none;\n  border-radius: 12px;\n\n  @media screen and (min-width: 834px){\n    height: 71dvh;\n  }\n\n  @media screen and (min-width: 1236px){\n    height: ",";\n  }\n\n  &::-webkit-scrollbar {\n    width: 0.5rem;\n    background-color: ",";\n    border-radius: 24px;\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 5px;\n    background-color: ",";\n  }\n\n\n  & table {\n    width: 100%;\n    border-collapse: collapse;\n    table-layout: auto;\n\n    & thead{\n      position: sticky;\n      top: 0;\n      z-index: 2;\n\n      & th{\n        background-color: ",";\n        border-bottom: 1px solid ",";\n        border-right: 1px solid ",";\n        padding: 1rem 0.25rem 1rem 0.25rem;\n\n\n        &:last-child{\n          border-right: none;\n        }\n      }\n    }\n  }\n\n  .back-color{\n    background-color: #369469;\n    box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 10px inset;\n  }\n\n  & tr, td, th{\n    text-align: center;\n  }\n\n  & tbody{\n    & td {\n      border-bottom: 1px solid ",";\n      border-right: 1px solid ",';\n      padding:0.5rem 0.25rem;\n    }\n\n    & tr:last-child{\n      & td{\n        border-bottom: none;\n      }\n    }\n  }\n\n  .TableHeaderName{\n    font-weight: 600;\n    font-size: 0.9rem;\n    overflow-wrap: break-word;\n    text-align: center;\n  }\n\n  .TableHeaderItem {\n    font-weight: 500;\n    font-size: 0.5rem;\n    overflow-wrap: break-word;\n    text-align: center;\n    position: relative;\n  }\n\n  #cityColumn,\n  #regionColumn,\n  #countryColumn,\n  #managerColumn,\n  #agentColumn {\n    padding: 0.5rem 0rem;\n  }\n\n\n  /* td[id^="status-"],\n  td[id^="timeZone-"],\n  td[id^="country-"],\n  td[id^="region-"],\n  td[id^="city-"] {\n    max-width: 70px;\n    max-height: 50px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  } */\n\n  .calendar-cont{\n    width: 100%;\n    height: 100%;\n    \n    & input{\n      width: 72px;\n      border: none;\n      background: none;\n      padding: 0;\n      text-align: center;\n      color: ',";\n      transition: border ",";\n\n      &:focus,\n      &:hover {\n        color: ",";\n\n        &::placeholder{\n        color: ",";\n      }\n      }\n      \n      &::placeholder{\n        color: ",";\n      }\n    }\n  }\n\n  .check-btn{\n    font-size: 0.5rem;\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 0.25rem 0.25rem;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    transition: color ",";\n    flex-wrap: nowrap;\n\n    &:hover{\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.$userLeadsComponent?"73dvh":"69.1dvh"),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.background3),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey)),f=i.ZP.div(l||(l=(0,a.Z)(["\n\n  .custom-checkbox{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .checkbox {\n    margin-top: 5px;\n    width: 1rem;\n    height: 1rem;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    opacity: 0;\n  }\n  \n  .custom-checkbox-before, .custom-checkbox-after{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n  }\n  .custom-checkbox-before{\n    opacity: 1;\n    transition: opacity ",";\n  }\n  .custom-checkbox-after{\n    opacity: 0;\n    transition: opacity ",";\n  }\n  .checkbox:focus + .custom-checkbox > .custom-checkbox-before{\n    outline: 3px solid ",";\n    border-radius: 2px;\n    outline-offset: -3px; \n  }\n\n  .checkbox:checked + .custom-checkbox > .custom-checkbox-after{\n    opacity: 1;\n  }\n  .checkbox:checked + .custom-checkbox > .custom-checkbox-before{\n    opacity: 0;\n  }\n"])),(e=>e.theme.transition.main_transition),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite));var v=t(2791),y=t(184);const w=e=>{let{lead:n}=e;const[t,r]=(0,v.useState)(new Date);(0,v.useEffect)((()=>{const e=setInterval((()=>{r(new Date)}),6e4);return()=>clearInterval(e)}),[]);return(0,y.jsx)(y.Fragment,{children:(e=>{const n=new Date(t.getTime()+6e4*t.getTimezoneOffset());return new Date(n.getTime()+60*e*60*1e3).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:void 0})})(n.timeZone)})};var k=t(9557),j=(t(7717),t(3544));const _=v.memo((e=>{let{lead:n}=e;const[t,r]=(0,v.useState)(null),a=(0,v.useRef)(new Date),i=(0,u.I0)(),s=(0,v.useMemo)((()=>n.nextCall?new Date(n.nextCall):null),[n.nextCall]),o=t&&t<a.current,l=t?t-a.current:0,c=!o&&l<=216e5,d=t&&a.current.toDateString()===t.toDateString(),m=t&&t>a.current?"today":null,h=d?a.current.toTimeString().slice(0,5):null;(0,v.useEffect)((()=>{n.nextCall?r(s):r(null)}),[n.nextCall,s]);return(0,y.jsx)("td",{className:"TableHeaderItem",style:{backgroundColor:o?"#ff000082":c?"#223f53":"transparent"},children:(0,y.jsx)("div",{className:"calendar-cont",children:(0,y.jsx)(k.Z,{"data-enable-time":!0,value:t||"",onChange:e=>{let[n]=e;return r(n)},options:{dateFormat:"d.m.Y  H:i",minDate:m,minTime:h,weekNumbers:!0,locale:{firstDayOfWeek:1}},placeholder:"Select Date/ Time",onClose:()=>{if(t!==(s||null)&&t!==a.current)if(o)r(null);else{const e=t.toISOString().slice(0,16);i((0,j.rN)({id:n._id,leadNextcall:e}))}}})})})}));var N,C,M,I=t(9388);const E=i.ZP.div(N||(N=(0,a.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n\n    .status-btn{\n        color: ",";\n        padding: 0;\n        width: 100%;\n        min-height: 1.3rem;\n        background-color: transparent;\n    }\n\n    .arrow-svg {\n        position: absolute;\n        width: 0.5rem;\n        height: 0.5rem;\n        stroke: black;\n        stroke: ",";\n        transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n        top: -4px;\n        right: -2px;\n        transform: rotate(-90deg);\n    } \n    \n    .arrow-svg-open {\n        transform: rotate(90deg);\n    } \n\n    .status-list{\n        height: 0rem;\n        position: absolute;\n        overflow-y: auto;\n        z-index: 1;\n        top: -0.5rem;\n        left: ",";\n        border-radius: 0.5rem;\n        padding: 0.25rem;\n        gap: 0.75rem;\n        background-color: ",";\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-evenly;\n        visibility: hidden;\n        opacity: 0;\n        font-size: 0.25rem;\n        border: 0.25rem solid ",";\n        transform: scale(0.5);\n        transform-origin: left top;\n        transition: all ",";\n\n\n        &::-webkit-scrollbar {\n            width: 0.25rem;\n            background-color: transparent;\n        }\n        &::-webkit-scrollbar-thumb {\n            border-radius: 5px;\n            background-color: ",";\n            border-radius: 5px;\n        }\n    }\n\n    .status-list-visible{\n        height: 11.7rem;\n        width: ",";\n        opacity: 1;\n        visibility: visible;\n        transform: scale(1);\n        transform-origin: left top;\n        font-size: 0.7rem;\n    }\n\n    .status-list-visible-adjusted{\n        top: -10.1rem;\n        height: 11.7rem;\n        width: ",";\n        opacity: 1;\n        visibility: visible;\n        transform: scale(1);\n        transform-origin: left top;\n        font-size: 0.7rem;\n    }\n\n    .status-item{\n        cursor: pointer;\n\n        & .drop-cont-text{\n            transition: color ",";\n            color: ",";\n\n            &:hover{\n                color: ","\n            }\n        }\n    }\n"])),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.$isTimeZone?"115%":"110%"),(e=>e.theme.color.background2),(e=>e.theme.color.background3),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.$isTimeZone?"4rem":"7rem"),(e=>e.$isTimeZone?"4rem":"7rem"),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite)),L=i.ZP.div(C||(C=(0,a.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n\n    .data-btn{\n        color: ",";\n        padding: 0rem 0.25rem;\n        width: 100%;\n        min-height: 1.3rem;\n        background-color: transparent;\n    }\n\n    .arrow-icon {\n        position: absolute;\n        width: 0.5rem;\n        height: 0.5rem;\n        stroke: black;\n        stroke: ",";\n        transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n        bottom: -5px;\n        left: 4px;\n        transform: rotate(0deg);\n    } \n    \n    .arrow-icon-open {\n        transform: rotate(180deg);\n    }\n\n    .input-form{\n        visibility: hidden;\n        opacity: 0;\n        position: absolute;\n        z-index: 1;\n        left: 0;\n        top: 145%;\n        transform: scale(0);\n        background-color: ",";\n        border: 0.25rem solid ",";\n        border-radius: 0.75rem;\n        padding: 0.8rem 0.5rem;\n        transform-origin: left top;\n        transition: all ",";\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.5rem;\n        \n        \n        & input{\n            text-align: center;\n            padding: 0.25rem;\n            border-radius: 0.75rem;\n            border: 1px solid ",";\n            background: transparent;\n            font-size: 0.8rem;\n            font-weight: 400;\n            color: ",";\n            outline: none;\n\n            &::placeholder{\n                color: ",";\n                letter-spacing: 0.04em;\n            }\n\n            &:focus{\n                border: 1px solid ",";\n            }\n        }\n\n        & .submit-button{\n            color: ",";\n            background-color: ",";\n            font-size: 0.8rem;\n            font-weight: 500;\n            width: 50%;\n            border: 1px solid ",";\n            border-radius: 0.5rem;\n            padding: 0.25rem;\n            cursor: pointer;\n            transition: color ",";\n\n            &:hover {\n                color: ",";\n            }\n\n            &:disabled{\n                display: none;\n            }\n        }\n    }\n\n    .input-form-visible{\n        visibility: visible;\n        opacity: 1;\n        transform: scale(1);\n        transform-origin: left top;\n    }\n\n    .input-form-visible-adjusted{\n        top: -325%;\n        visibility: visible;\n        opacity: 1;\n        transform: scale(1);\n        transform-origin: left top;\n    }\n"])),(e=>e.$isCountry||e.$isRegion||e.$isCity?e.theme.color.primary_white:e.theme.color.primary_grey),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.background2),(e=>e.theme.color.background3),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey)),T=i.ZP.div(M||(M=(0,a.Z)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n\n    .manager-btn{\n        color: ",";\n        padding: 0;\n        width: 100%;\n        min-height: 1.3rem;\n        background-color: transparent;\n        pointer-events: ",";\n    }\n\n    .arrow-svg {\n        position: absolute;\n        width: 0.5rem;\n        height: 0.5rem;\n        stroke: black;\n        stroke: ",";\n        transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n        top: -4px;\n        right: 2px;\n        transform: rotate(-90deg);\n    } \n    \n    .arrow-svg-open {\n        transform: rotate(90deg);\n    } \n\n    .users-list{\n        height: 0rem;\n        position: absolute;\n        overflow-y: auto;\n        z-index: 1;\n        top: -0.5rem;\n        left: ",";\n        border-radius: 0.5rem;\n        padding: 0.25rem;\n        gap: 0.75rem;\n        background-color: ",";\n        display: flex;\n        flex-direction: column;\n        gap: 1rem;\n        visibility: hidden;\n        opacity: 0;\n        font-size: 0.25rem;\n        border: 0.25rem solid ",";\n        transform: scale(0.5);\n        transform-origin: left top;\n        transition: all ",";\n\n\n        &::-webkit-scrollbar {\n            width: 0.25rem;\n            background-color: transparent;\n        }\n        &::-webkit-scrollbar-thumb {\n            border-radius: 5px;\n            background-color: ",";\n            border-radius: 5px;\n        }\n    }\n\n    .users-list-visible{\n        height: 11.7rem;\n        width: 8.7rem;\n        opacity: 1;\n        visibility: visible;\n        transform: scale(1);\n        transform-origin: left top;\n        font-size: 0.7rem;\n    }\n\n    .users-list-visible-adjusted{\n        top: -9.9rem;\n        height: 11.7rem;\n        width: 8.7rem;\n        opacity: 1;\n        visibility: visible;\n        transform: scale(1);\n        transform-origin: left top;\n        font-size: 0.7rem;\n    }\n\n    .user-item{\n        cursor: pointer;\n\n        & .drop-cont-text{\n            transition: color ",";\n            color: ",";\n            text-align: left;\n\n            &:hover{\n                color: ","\n            }\n        }\n    }\n\n    .initial-item{\n        pointer-events: none;\n        font-weight: 500;\n        font-size: 1rem;\n        color: ",";\n    }\n"])),(e=>e.theme.color.primary_white),(e=>e.$isSelfCreated&&"none"),(e=>e.theme.color.primary_green_lite),(e=>e.$isConversionManager?"102%":"106%"),(e=>e.theme.color.background2),(e=>e.theme.color.background3),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite));var A=t(7055);const S=v.memo((e=>{let{index:n,leads:t,lead:r,status:a,isAdmin:i,isManager:s,isConversion:o}=e;const[l,c]=(0,v.useState)(!1),[d,m]=(0,v.useState)(new Map),[h,g]=(0,v.useState)(null),p=(0,v.useRef)(new Map),b=(0,u.I0)();(0,v.useEffect)((()=>{c(!(!a||""===a))}),[a]);const x=(0,v.useCallback)((e=>{"Escape"===e.key&&m(new Map)}),[]),f=(0,v.useCallback)((e=>{const n=new Map(d);let t=!1;p.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&d.get(a)&&(n.set(a,!1),t=!0)})),t&&m(n)}),[d]);(0,v.useEffect)((()=>(document.addEventListener("keydown",x),document.addEventListener("click",f),()=>{document.removeEventListener("keydown",x),document.removeEventListener("click",f)})),[f,x]);return(0,y.jsx)(E,{ref:e=>{e&&p.current.set(r._id,e)},children:h===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"status-btn",type:"button",onClick:()=>{return e=r._id,void m((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t}));var e},children:l?r.status:"N/A"}),(0,y.jsx)(I.r,{className:"arrow-svg ".concat((w=r._id,d.get(w)?"arrow-svg-open":""))}),(0,y.jsx)("ul",{className:"status-list ".concat(((e,t)=>{const r=t.length;return n>14?n>r-5?d.get(e)?"status-list-visible-adjusted":"":void 0:d.get(e)?"status-list-visible":""})(r._id,t)),children:a.map(((e,n)=>(0,y.jsx)("li",{className:"status-item",children:(0,y.jsx)("p",{className:"drop-cont-text",onClick:()=>(e=>{if(i||s||o){const n={id:r._id,leadStatus:e};g(r._id),b((0,j.Cy)(n)).finally((()=>{g(null)})),m(new Map)}})(e),children:e})},n)))})]})});var w})),H=v.memo((e=>{let{index:n,leads:t,lead:r,timeZone:a,isAdmin:i,isManager:s,isConversion:o}=e;const[l,c]=(0,v.useState)(!1),[d,m]=(0,v.useState)(new Map),[h,g]=(0,v.useState)(null),p=(0,v.useRef)(new Map),b=(0,u.I0)();(0,v.useEffect)((()=>{c(!(!a||""===a))}),[a]);const x=(0,v.useCallback)((e=>{"Escape"===e.key&&m(new Map)}),[]),f=(0,v.useCallback)((e=>{const n=new Map(d);let t=!1;p.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&d.get(a)&&(n.set(a,!1),t=!0)})),t&&m(n)}),[d]);(0,v.useEffect)((()=>(document.addEventListener("keydown",x),document.addEventListener("click",f),()=>{document.removeEventListener("keydown",x),document.removeEventListener("click",f)})),[f,x]);return(0,y.jsx)(E,{ref:e=>{e&&p.current.set(r._id,e)},$isTimeZone:l,children:h===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"status-btn",type:"button",onClick:()=>{return e=r._id,void m((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t}));var e},children:l?r.timeZone:"N/A"}),(0,y.jsx)(I.r,{className:"arrow-svg ".concat((w=r._id,d.get(w)?"arrow-svg-open":""))}),(0,y.jsx)("ul",{className:"status-list ".concat(((e,t)=>{const r=t.length;return n>14?n>r-5?d.get(e)?"status-list-visible-adjusted":"":void 0:d.get(e)?"status-list-visible":""})(r._id,t)),children:a.map(((e,n)=>(0,y.jsx)("li",{className:"status-item",children:(0,y.jsx)("p",{className:"drop-cont-text",onClick:()=>(e=>{if(i||s||o){const n={id:r._id,leadTimeZone:e};g(r._id),b((0,j.f3)(n)).finally((()=>{g(null)})),m(new Map)}})(e),children:e})},n)))})]})});var w})),O=e=>{let{index:n,leads:t,lead:r,isAdmin:a,isManager:i,isConversion:s}=e;const[o,l]=(0,v.useState)(!1),[c,d]=(0,v.useState)(new Map),[m,h]=(0,v.useState)(""),[g,p]=(0,v.useState)(!1),[b,x]=(0,v.useState)(null),f=(0,v.useRef)(new Map),w=(0,u.I0)();(0,v.useEffect)((()=>{r.country&&""!==r.country?l(!0):l(!1)}),[r.country]);const k=(0,v.useCallback)((e=>{"Escape"===e.key&&(d(new Map),h(""),p(!1))}),[]),_=(0,v.useCallback)((e=>{const n=new Map(c);let t=!1;f.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&c.get(a)&&(n.set(a,!1),t=!0)})),t&&d(n)}),[c]);(0,v.useEffect)((()=>(document.addEventListener("keydown",k),document.addEventListener("click",_),()=>{document.removeEventListener("keydown",k),document.removeEventListener("click",_)})),[_,k]);return(0,y.jsx)(L,{ref:e=>{e&&f.current.set(r._id,e)},$isCountry:o,children:b===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"data-btn",type:"button",onClick:()=>{return e=r._id,d((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t})),h(""),void p(!1);var e},children:o?r.country:"Enter Country"}),(0,y.jsx)(I.r,{className:"arrow-icon ".concat((N=r._id,c.get(N)?"arrow-icon-open":""))}),(0,y.jsxs)("form",{className:"input-form ".concat(((e,t)=>{const r=t.length;return n>15&&n>r-3?c.get(e)?"input-form-visible-adjusted":"":c.get(e)?"input-form-visible":""})(r._id,t)),onSubmit:e=>e.preventDefault(),children:[(0,y.jsx)("label",{htmlFor:"country",children:(0,y.jsx)("input",{type:"text",value:m,onChange:e=>{h(e.target.value),e.target.value.toLowerCase()!==r.country.toLowerCase()&&""!==e.target.value?p(!0):p(!1)},id:"country",name:"country",placeholder:"Enter Country",required:!0})}),(0,y.jsx)("button",{type:"submit",className:"submit-button",disabled:!g,onClick:()=>{if(a||i||s){const e=m.split(" ").map((e=>e===e.toUpperCase()?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "),n={id:r._id,leadCountry:e};x(r._id),w((0,j.GM)(n)).finally((()=>{x(null)})),p(!1),h(""),d(new Map)}},children:"Save"})]})]})});var N},Z=e=>{let{index:n,leads:t,lead:r,isAdmin:a,isManager:i,isConversion:s}=e;const[o,l]=(0,v.useState)(!1),[c,d]=(0,v.useState)(new Map),[m,h]=(0,v.useState)(""),[g,p]=(0,v.useState)(!1),[b,x]=(0,v.useState)(null),f=(0,v.useRef)(new Map),w=(0,u.I0)();(0,v.useEffect)((()=>{r.region&&""!==r.region?l(!0):l(!1)}),[r.region]);const k=(0,v.useCallback)((e=>{"Escape"===e.key&&(d(new Map),h(""),p(!1))}),[]),_=(0,v.useCallback)((e=>{const n=new Map(c);let t=!1;f.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&c.get(a)&&(n.set(a,!1),t=!0)})),t&&d(n)}),[c]);(0,v.useEffect)((()=>(document.addEventListener("keydown",k),document.addEventListener("click",_),()=>{document.removeEventListener("keydown",k),document.removeEventListener("click",_)})),[_,k]);return(0,y.jsx)(L,{ref:e=>{e&&f.current.set(r._id,e)},$isRegion:o,children:b===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"data-btn",type:"button",onClick:()=>{return e=r._id,d((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t})),h(""),void p(!1);var e},children:o?r.region:"Enter Region"}),(0,y.jsx)(I.r,{className:"arrow-icon ".concat((N=r._id,c.get(N)?"arrow-icon-open":""))}),(0,y.jsxs)("form",{className:"input-form ".concat(((e,t)=>{const r=t.length;return n>15&&n>r-3?c.get(e)?"input-form-visible-adjusted":"":c.get(e)?"input-form-visible":""})(r._id,t)),onSubmit:e=>e.preventDefault(),children:[(0,y.jsx)("label",{htmlFor:"region",children:(0,y.jsx)("input",{type:"text",value:m,onChange:e=>{h(e.target.value),e.target.value.toLowerCase()!==r.country.toLowerCase()&&""!==e.target.value?p(!0):p(!1)},id:"region",name:"region",placeholder:"Enter Region",required:!0})}),(0,y.jsx)("button",{type:"submit",className:"submit-button",disabled:!g,onClick:()=>{if(a||i||s){const e=m.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "),n={id:r._id,leadRegion:e};x(r._id),w((0,j.c2)(n)).finally((()=>{x(null)})),p(!1),h(""),d(new Map)}},children:"Save"})]})]})});var N},z=e=>{let{index:n,leads:t,lead:r,isAdmin:a,isManager:i,isConversion:s}=e;const[o,l]=(0,v.useState)(!1),[c,d]=(0,v.useState)(new Map),[m,h]=(0,v.useState)(""),[g,p]=(0,v.useState)(!1),[b,x]=(0,v.useState)(null),f=(0,v.useRef)(new Map),w=(0,u.I0)();(0,v.useEffect)((()=>{r.city&&""!==r.city?l(!0):l(!1)}),[r.city]);const k=(0,v.useCallback)((e=>{"Escape"===e.key&&(d(new Map),h(""),p(!1))}),[]),_=(0,v.useCallback)((e=>{const n=new Map(c);let t=!1;f.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&c.get(a)&&(n.set(a,!1),t=!0)})),t&&d(n)}),[c]);(0,v.useEffect)((()=>(document.addEventListener("keydown",k),document.addEventListener("click",_),()=>{document.removeEventListener("keydown",k),document.removeEventListener("click",_)})),[_,k]);return(0,y.jsx)(L,{ref:e=>{e&&f.current.set(r._id,e)},$isCity:o,children:b===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"data-btn",type:"button",onClick:()=>{return e=r._id,d((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t})),h(""),void p(!1);var e},children:o?r.city:"Enter City"}),(0,y.jsx)(I.r,{className:"arrow-icon ".concat((N=r._id,c.get(N)?"arrow-icon-open":""))}),(0,y.jsxs)("form",{className:"input-form ".concat(((e,t)=>{const r=t.length;return n>15&&n>r-3?c.get(e)?"input-form-visible-adjusted":"":c.get(e)?"input-form-visible":""})(r._id,t)),onSubmit:e=>e.preventDefault(),children:[(0,y.jsx)("label",{htmlFor:"city",children:(0,y.jsx)("input",{type:"text",value:m,onChange:e=>{h(e.target.value),e.target.value.toLowerCase()!==r.country.toLowerCase()&&""!==e.target.value?p(!0):p(!1)},id:"city",name:"city",placeholder:"Enter City",required:!0})}),(0,y.jsx)("button",{type:"submit",className:"submit-button",disabled:!g,onClick:()=>{if(a||i||s){const e=m.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "),n={id:r._id,leadCity:e};x(r._id),w((0,j.n7)(n)).finally((()=>{x(null)})),p(!1),h(""),d(new Map)}},children:"Save"})]})]})});var N},R=e=>{let{availableUsersForAssign:n,leads:t,lead:r,index:a,isManager:i}=e;const[s,o]=(0,v.useState)(!1),[l,c]=(0,v.useState)(!1),[d,m]=(0,v.useState)(new Map),[h,g]=(0,v.useState)(null),p=(0,v.useRef)(new Map),b=(0,u.I0)();(0,v.useEffect)((()=>{const e=r.conManagerId,n=r.selfCreated;e&&(e.name||e.email)?o(!0):o(!1),c(!!n)}),[r.conManagerId,r.selfCreated]);const x=(0,v.useCallback)((e=>{"Escape"===e.key&&m(new Map)}),[]),f=(0,v.useCallback)((e=>{const n=new Map(d);let t=!1;p.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&d.get(a)&&(n.set(a,!1),t=!0)})),t&&m(n)}),[d]);(0,v.useEffect)((()=>(document.addEventListener("keydown",x),document.addEventListener("click",f),()=>{document.removeEventListener("keydown",x),document.removeEventListener("click",f)})),[f,x]);const w=e=>n.filter((n=>n._id!==e)).map(((e,n)=>(0,y.jsx)("li",{className:"user-item",children:(0,y.jsxs)("p",{className:"drop-cont-text",onClick:()=>k(e),children:["To: ",e.username]})},n))),k=e=>{i&&(l||s||(g(r._id),b((0,j.lI)({leadId:r._id,data:{conManagerId:e._id}})).finally((()=>{g(null)})),m(new Map)),!l&&s&&(g(r._id),b((0,j.qE)({leadId:r._id,data:{conManagerId:e._id}})).finally((()=>{g(null)})),m(new Map)))};return(0,y.jsx)(T,{ref:e=>{e&&p.current.set(r._id,e)},$isSelfCreated:l,children:h===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"manager-btn",type:"button",onClick:()=>{return e=r._id,void m((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t}));var e},children:l?"N/A":r.conManagerId?r.conManagerId.username:"Not Assigned Yet"}),!l&&(0,y.jsx)(I.r,{className:"arrow-svg ".concat((_=r._id,d.get(_)?"arrow-svg-open":""))}),(0,y.jsxs)("ul",{className:"users-list ".concat(((e,n)=>{const t=n.length;return a>14?a>t-5?d.get(e)?"users-list-visible-adjusted":"":void 0:d.get(e)?"users-list-visible":""})(r._id,t)),children:[(0,y.jsx)("li",{className:"initial-item",children:(0,y.jsx)("p",{className:"initial-drop-cont-text",children:r.conManagerId?"ReAssign":"Assign"})}),r.conManagerId?w(r.conManagerId._id):w()]})]})});var _},F=e=>{let{availableUsersForAssign:n,leads:t,lead:r,index:a,isConversionManager:i}=e;const[s,o]=(0,v.useState)(!1),[l,c]=(0,v.useState)(!1),[d,m]=(0,v.useState)(new Map),[h,g]=(0,v.useState)(null),p=(0,v.useRef)(new Map),b=(0,u.I0)();(0,v.useEffect)((()=>{const e=r.conAgentId,n=r.selfCreated;e&&(e.name||e.email)?o(!0):o(!1),c(!!n)}),[r.conAgentId,r.selfCreated]);const x=(0,v.useCallback)((e=>{"Escape"===e.key&&m(new Map)}),[]),f=(0,v.useCallback)((e=>{const n=new Map(d);let t=!1;p.current.forEach(((r,a)=>{r&&!r.contains(e.target)&&d.get(a)&&(n.set(a,!1),t=!0)})),t&&m(n)}),[d]);(0,v.useEffect)((()=>(document.addEventListener("keydown",x),document.addEventListener("click",f),()=>{document.removeEventListener("keydown",x),document.removeEventListener("click",f)})),[f,x]);const w=e=>n.filter((n=>n._id!==e)).map(((e,n)=>(0,y.jsx)("li",{className:"user-item",children:(0,y.jsxs)("p",{className:"drop-cont-text",onClick:()=>k(e),children:["To: ",e.username]})},n))),k=e=>{i&&(l||s||(g(r._id),b((0,j.lI)({leadId:r._id,data:{conAgentId:e._id}})).finally((()=>{g(null)})),m(new Map)),!l&&s&&(g(r._id),b((0,j.qE)({leadId:r._id,data:{conAgentId:e._id}})).finally((()=>{g(null)})),m(new Map)))};return(0,y.jsx)(T,{ref:e=>{e&&p.current.set(r._id,e)},$isSelfCreated:l,$isConversionManager:i,children:h===r._id?(0,y.jsx)(A.iT,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:"manager-btn",type:"button",onClick:()=>{return e=r._id,void m((n=>{const t=new Map(n);return t.set(e,!t.get(e)),t}));var e},children:l?"N/A":r.conAgentId?r.conAgentId.username:"Not Assigned Yet"}),!l&&(0,y.jsx)(I.r,{className:"arrow-svg ".concat((_=r._id,d.get(_)?"arrow-svg-open":""))}),(0,y.jsxs)("ul",{className:"users-list ".concat(((e,n)=>{const t=n.length;return a>14?a>t-5?d.get(e)?"users-list-visible-adjusted":"":void 0:d.get(e)?"users-list-visible":""})(r._id,t)),children:[(0,y.jsx)("li",{className:"initial-item",children:(0,y.jsx)("p",{className:"initial-drop-cont-text",children:r.conAgentId?"ReAssign":"Assign"})}),r.conAgentId?w(r.conAgentId._id):w()]})]})});var _};var D=t(8524),$=t(1879),P=t(8192);const B=v.memo((e=>{let{selectedOfficeLeadsCheckedCheckbox:n,lead:t}=e;const r=(0,u.I0)();return(0,y.jsx)(f,{children:(0,y.jsxs)("div",{className:"custom-checkbox",children:[(0,y.jsx)("input",{className:"checkbox",type:"checkbox",name:"delete_external_lead",id:t._id,checked:n.includes(t._id),onChange:()=>{return e=t._id,void r((0,m.hM)({_id:e}));var e}}),(0,y.jsxs)("div",{className:"custom-checkbox",children:[(0,y.jsx)(P.r,{className:"custom-checkbox-before",width:"16",height:"16"}),(0,y.jsx)($.r,{className:"custom-checkbox-after",width:"16",height:"16"})]})]})})}));var U=t(6486);const V=()=>{const{isLeads:e,selectedOfficeLeadsCheckedCheckbox:n,leadOffice:t,status:r,timeZone:a}=(0,b.t)(),{formatDateTime:i}=(0,U.n)(),{isAdmin:s,isConversion:o,isManager:l,isConversionManager:c,isLoggedIn:d}=(0,g.a)(),{userLeads:h,userLeadsComponent:f,availableUsersForAssign:k}=(0,p.a)(),[N,C]=(0,v.useState)(),M=(0,u.I0)();(0,v.useEffect)((()=>{f&&h?C(h):e&&C(e)}),[e,h,f]);let I;return N&&(I=[...e].sort(((e,n)=>"New"===e.status&&"New"!==n.status?-1:"New"!==e.status&&"New"===n.status?1:new Date(n.updatedAt)-new Date(e.updatedAt)))),(0,y.jsx)(x,{className:(()=>{if(N)return N.length<16?"small-table":""})(),$userLeadsComponent:f,children:(0,y.jsxs)("table",{className:"Table",children:[(0,y.jsx)("thead",{className:"TableHeader",children:(0,y.jsxs)("tr",{className:"TableHeaderList",children:[(0,y.jsx)("th",{className:"TableHeaderItem",children:"Client Id"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Name"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Last Name"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Email"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Phone"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Status"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Source"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Country"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Region"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"City"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Time Zone"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Client Time"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Self created"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Last update"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Created At"}),(s||l)&&(l?(0,y.jsx)("th",{className:"TableHeaderItem",children:"Assign / Reassign Manager"}):(0,y.jsx)("th",{className:"TableHeaderItem",children:"Assigned Manager"})),(s||l||c)&&(c?(0,y.jsx)("th",{className:"TableHeaderItem",children:"Assign / Reassign Agent"}):(0,y.jsx)("th",{className:"TableHeaderItem",children:"Assigned Agent"})),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Next call"}),(0,y.jsx)("th",{className:"TableHeaderItem",children:"Details"}),s&&(0,y.jsx)("th",{className:"TableHeaderItem",children:"Check"})]})}),(0,y.jsx)("tbody",{children:N&&I.map(((e,h)=>(0,y.jsxs)("tr",{className:"New"===e.status?"back-color":"",children:[(0,y.jsx)("td",{className:"TableHeaderItem",children:e.clientId}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.name}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.lastName}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.email}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.phone}),(0,y.jsx)("td",{className:"TableHeaderItem",children:(0,y.jsx)(S,{leads:N,lead:e,index:h,status:r,isAdmin:s,isConversion:o,isManager:l})}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.resource}),(0,y.jsx)("td",{id:"countryColumn",className:"TableHeaderItem",children:(0,y.jsx)(O,{leads:N,lead:e,index:h,isAdmin:s,isConversion:o,isManager:l})}),(0,y.jsx)("td",{id:"regionColumn",className:"TableHeaderItem",children:(0,y.jsx)(Z,{leads:N,lead:e,index:h,isAdmin:s,isConversion:o,isManager:l})}),(0,y.jsx)("td",{id:"cityColumn",className:"TableHeaderItem",children:(0,y.jsx)(z,{leads:N,lead:e,index:h,isAdmin:s,isConversion:o,isManager:l})}),(0,y.jsx)("td",{className:"TableHeaderItem",children:(0,y.jsx)(H,{leads:N,lead:e,index:h,timeZone:a,isAdmin:s,isConversion:o,isManager:l})}),(0,y.jsx)("td",{className:"TableHeaderItem",style:{maxWidth:"60px",textWrap:"unset"},children:(0,y.jsx)(w,{lead:e})}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.selfCreated?"Yes":"No"}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.updatedAt&&i(e.updatedAt)}),(0,y.jsx)("td",{className:"TableHeaderItem",children:e.createdAt&&i(e.createdAt)}),(s||l)&&(0,y.jsx)("td",{id:"mangerColumn",className:"TableHeaderItem",style:{background:e.selfCreated?"transparent":!e.conManagerId&&"#ff000082"},children:l?(0,y.jsx)(R,{availableUsersForAssign:k,leads:N,lead:e,index:h,isManager:l}):e.selfCreated?"N/A":e.conManagerId?e.conManagerId.username:"Not Assigned Yet"}),(s||l||c)&&(0,y.jsx)("td",{id:"agentColumn",className:"TableHeaderItem",style:{background:e.selfCreated?"transparent":!e.conAgentId&&"#ff000082"},children:c?(0,y.jsx)(F,{availableUsersForAssign:k,leads:N,lead:e,index:h,isConversionManager:c}):e.selfCreated?"N/A":e.conAgentId?e.conAgentId.username:"Not Assigned Yet"}),(0,y.jsx)(_,{lead:e}),(0,y.jsx)("td",{className:"TableHeaderItem",children:(0,y.jsx)("button",{className:"check-btn",type:"button",onClick:()=>{return n=e._id,e.branch,M((0,D.pk)()),M((0,m.xm)("Office")),void(d&&s?M((0,j.zs)({leadId:n,branch:t})):d&&(o||l)&&M((0,j.zs)({leadId:n})));var n},children:"Open"})}),s&&(0,y.jsx)("td",{className:"TableHeaderItem",children:(0,y.jsx)(B,{lead:e,selectedOfficeLeadsCheckedCheckbox:n})})]},e._id)))})]})})};var q=t(9066),Y=t(905);const W=()=>{const{formatOfficeName:e}=(0,U.n)(),{isAdmin:n}=(0,g.a)(),{isLeadLoading:t,leadOffice:r}=(0,b.t)(),{isLeadDetails:a}=(0,Y.d)(),{userLeadsComponent:i}=(0,p.a)(),o=(0,u.I0)();return(0,y.jsx)(s,{$isAdmin:n,children:(0,y.jsxs)("div",{className:"wraper",children:[(0,y.jsx)("div",{className:"nav-block",children:n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(d.OL,{className:"link",to:"/",onClick:()=>{r&&o((0,m.pg)()),i&&o((0,h.WK)())},children:[(0,y.jsx)(c.r,{className:"svg"}),(0,y.jsx)("h1",{className:"titles",children:"Back"})]}),(0,y.jsxs)("h2",{className:"titles",children:[e(r)," Leads List & Management"]})]}):(0,y.jsx)("h2",{className:"titles",children:"All Office Leads List & Management"})}),(0,y.jsx)("div",{className:"filter-block",children:(0,y.jsx)("ul",{className:"filter-list",children:(0,y.jsx)("li",{className:"filter-item",children:(0,y.jsx)("p",{children:"FILTER BLOCK"})})})}),(0,y.jsxs)("div",{className:"content-container",children:[t&&!a?(0,y.jsx)(A.ql,{}):(0,y.jsx)(V,{}),(0,y.jsx)(q.t,{})]})]})})};var K;const G=i.ZP.div(K||(K=(0,a.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n        }\n    }\n\n    .nav-block{\n        display: flex;\n        align-items: center;\n        margin-bottom: 1rem;\n        justify-content: space-between;\n        font-weight: 600;\n        font-size: 1.25rem;\n    }\n\n    .modal-button{\n        display: flex;\n        align-items: center;\n        background-color: transparent;\n        gap: 0.25rem;\n        font-weight: 600;\n        font-size: 1.25rem;\n        color: ",";\n        transition: all ",";\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n\n    .link{\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        transition: all ",";\n        max-width: 30%;\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            transform: rotate(180deg);\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n    .titles{\n        font-weight: 700;\n        font-size: 1.5rem;\n        text-align: center;\n        margin-bottom: 2rem;\n    }\n\n\n    .small-table{\n        border-right: 1px solid ",";\n\n        & tbody{\n            & tr{\n                & td:last-child{\n                    border-right: none;\n                }\n            }\n\n            & tr:last-child{\n                & td{\n                    border-bottom: 1px solid ",";\n                }\n            }\n        }\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_white),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite)),J=()=>{const{userName:e,userLeadsComponentData:n,isUserLeadsLoading:t}=(0,p.a)(),r=(0,u.I0)();return(0,y.jsx)(G,{children:(0,y.jsxs)("div",{className:"wraper",children:[(0,y.jsxs)("div",{className:"nav-block",children:[(0,y.jsxs)("button",{type:"button",className:"modal-button",onClick:()=>{r((0,D.t3)())},children:[(0,y.jsx)(c.r,{className:"svg"}),"Back to User Information"]}),(0,y.jsxs)(d.OL,{className:"link",to:"/users",onClick:()=>{r((0,h.WK)())},children:["Back to Users",(0,y.jsx)(c.r,{className:"svg"})]})]}),(0,y.jsxs)("h1",{className:"titles",children:[e," all ",n," Leads details"]}),t?(0,y.jsx)(A.ql,{}):(0,y.jsx)(V,{})]})})};var Q=t(6001);const X=()=>{const e=(0,u.I0)(),{userLeadsComponent:n}=(0,p.a)(),{isAdmin:t,isManager:r,isConversionManager:a,isConversion:i}=(0,g.a)();return(0,v.useEffect)((()=>{!n&&(t||r||i)&&(e((0,j.lR)()),e((0,j.Ze)())),n||t||!r&&!a||e((0,Q.aM)())}),[e,t,i,a,r,n]),(0,y.jsx)(y.Fragment,{children:n?(0,y.jsx)(J,{}):(0,y.jsx)(W,{})})}}}]);
//# sourceMappingURL=152.93d941ce.chunk.js.map