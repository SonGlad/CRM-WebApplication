"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[769],{8589:(e,n,r)=>{r.d(n,{r:()=>s});var t,o=r(2791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},i.apply(this,arguments)}function a(e,n){let{title:r,titleId:a,...s}=e;return o.createElement("svg",i({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,t||(t=o.createElement("g",{id:"vuesax/linear/arrow-right"},o.createElement("g",{id:"arrow-right"},o.createElement("path",{id:"Vector",d:"M6.38 3.95312L2.33334 7.99979L6.38 12.0465",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{id:"Vector_2",d:"M13.6667 8H2.44666",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})))))}const s=o.forwardRef(a);r.p},6769:(e,n,r)=>{r.r(n),r.d(n,{default:()=>w});var t,o=r(2791),i=r(168);const a=r(2978).ZP.div(t||(t=(0,i.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    /* height: 90vh; */\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n        }\n    }\n\n\n    .nav-block{\n        display: flex;\n        align-items: center;\n        margin-bottom: 1rem;\n    }\n\n    .link{\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        margin-right: 35%;\n        transition: all ",";\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n    .titles{\n        font-weight: 700;\n        font-size: 1.5rem\n    }\n\n    .filter-list{\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n        justify-content: center;\n\n        & button {\n            padding: 0.25rem 0.5rem;\n            min-width: 5rem;\n            color: ",";\n            background-color: ",";\n            font-size: clamp(0.75rem, 0.5vw + 0.5rem, 1.5rem);\n            font-weight: 500;\n            line-height: 1.25rem;\n            border: 1px solid ",";\n            border-radius: 0.75rem;\n            transition: color ",";\n\n            &:hover,\n            &:focus {\n                color: ",";\n            }\n        }\n    }\n\n    .users-block{\n        margin-top: 2rem;\n        color: ",";\n        overflow-y: auto;\n        height: 74dvh;\n        padding-bottom: 4px;\n        position: relative;\n\n        @media screen and (min-width: 834px){\n            height: 71dvh;\n        }\n\n        @media screen and (min-width: 1236px){\n            height: 72.4dvh;\n        }\n\n\n        &::-webkit-scrollbar {\n            width: 0.5rem;\n            background-color: ",";\n            border-radius: 24px;\n        }\n        &::-webkit-scrollbar-thumb {\n            border-radius: 5px;\n            background-color: ",";\n            border-radius: 5px;\n        }\n\n        & table {\n            width: 100%;\n            border-spacing: 0px;\n            border: 1px solid ",";\n            border-top: none;\n            border-radius: 12px;            \n\n            & thead{\n                position: sticky;\n                top: 0;\n                z-index: 1;\n\n                & th{\n                    border-top: 1px solid ",";\n                }\n            }\n        }\n\n        & th{\n            background-color: ",";\n\n            &:first-child{\n                border-top-left-radius: 10px;\n            }\n\n            &:last-child{\n                border-top-right-radius: 10px;\n            }\n        }\n\n        & tr, td, th{\n            text-align: center;\n            padding: 1rem 0;\n            border-bottom: 1px solid ",";\n            border-right: 1px solid ",";\n        }\n\n        & tr:last-child {\n            & td {\n                border-bottom: none;\n            }\n\n            & td:last-child {\n                border-bottom-right-radius: 10px;\n            }\n        }\n        \n        & td:last-child, \n        & th:last-child{\n            border-right: none;\n        }\n        \n        & td:last-child{\n            position: relative;\n        }\n    }\n    \n\n    .check-btn{\n        color: ",";\n        background-color: ",";\n        border: 1px solid ",";\n        padding: 0.25rem 0.25rem;\n        border-radius: 0.5rem;\n        cursor: pointer;\n        transition: color ",";\n\n        &:hover{\n            color: ",";\n        }\n    }\n\n\n    .checkbox {\n        margin-top: 5px;\n        width: 16px;\n        height: 16px;\n        outline: none;\n        border: none;\n        cursor: pointer;\n        opacity: 0;\n    }\n    \n    .custom-checkbox{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .custom-checkbox-before, .custom-checkbox-after{\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n    .custom-checkbox-before{\n        opacity: 1;\n        transition: opacity ",";\n    }\n    .custom-checkbox-after{\n        opacity: 0;\n        transition: opacity ",";\n    }\n    .checkbox:focus + .custom-checkbox > .custom-checkbox-before{\n        outline: 3px solid ",";\n        border-radius: 2px;\n        outline-offset: -3px; \n    }\n\n    .checkbox:checked + .custom-checkbox > .custom-checkbox-after{\n        opacity: 1;\n    }\n    .checkbox:checked + .custom-checkbox > .custom-checkbox-before{\n        opacity: 0;\n    }\n\n\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.background3),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.transition.main_transition),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite));var s=r(8589),c=r(1879),l=r(8192),d=r(7055),h=r(1087),m=r(4420),p=r(2865),g=r(7039),x=r(905),u=r(7531),b=r(6081),k=r(6001),f=r(8524),v=r(4461),y=r(4753),j=r(184);const _=()=>{const{isAdmin:e,isManager:n,isConversionManager:r}=(0,g.a)(),{userOffice:t,allUsers:i,userLoading:_,usersCheckedCheckbox:w,filteredUsers:C}=(0,p.a)(),{isUserDetails:A}=(0,x.d)(),[M,N]=(0,o.useState)(""),R=(0,m.I0)(),E=e=>e.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"),L=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Europe/Kiev";const r=new Date(e),t=(0,y.zW)(r,n),o=(0,v.WU)(t,"yyyy-MM-dd",{timeZone:n}),i=(0,v.WU)(t,"HH:mm",{timeZone:n});return"".concat(o," ").concat(i)};(0,o.useEffect)((()=>{const e=["CRM Manager","Conversion Manager","Conversion Agent","Retention Manager","Retention Agent"],n=i.filter((e=>{switch(M){case"All":default:return!0;case"Conversion":return"Conversion Manager"===e.role||"Conversion Agent"===e.role;case"Retention":return"Retention Manager"===e.role||"Retention Agent"===e.role;case"Conversion Manager":return"Conversion Manager"===e.role;case"Conversion Agent":return"Conversion Agent"===e.role;case"Retention Manager":return"Retention Manager"===e.role;case"Retention Agent":return"Retention Agent"===e.role}})).sort(((n,r)=>{if(""===M)return new Date(r.createdAt)-new Date(n.createdAt);{const t=e.indexOf(n.role),o=e.indexOf(r.role);return-1===t||-1===o?0:t-o}}));R((0,u.d4)(n))}),[i,R,M]);return(0,j.jsx)(a,{children:(0,j.jsxs)("div",{className:"wraper",children:[(0,j.jsxs)("div",{className:"nav-block",children:[(0,j.jsxs)(h.OL,{className:"link",to:e?"/":"/leads",onClick:()=>{R((0,u.fi)()),R((0,b.pg)())},children:[(0,j.jsx)(s.r,{className:"svg"}),(0,j.jsx)("h1",{className:"titles",children:"Back"})]}),e&&(0,j.jsxs)("h2",{className:"titles",children:[(e=>e.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"))(t)," Users"]})]}),(0,j.jsx)("div",{className:"filter-block",children:(0,j.jsx)("ul",{className:"filter-list",children:[{name:"All"},{name:"Conversion"},{name:"Retention"},{name:"Conversion Manager"},{name:"Conversion Agent"},{name:"Retention Manager"},{name:"Retention Agent"}].map(((e,n)=>{let{name:r}=e;return(0,j.jsx)("li",{className:"filter-item",children:(0,j.jsx)("button",{type:"button",onClick:()=>{N(r)},children:r})},n)}))})}),_&&!A?(0,j.jsx)(d.ql,{}):(0,j.jsx)("div",{className:"users-block",children:(0,j.jsxs)("table",{children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"User Role"}),(0,j.jsx)("th",{children:"User Name"}),(0,j.jsx)("th",{children:"User Email"}),(0,j.jsx)("th",{children:"User Branch"}),(0,j.jsx)("th",{children:"Total Leads"}),(0,j.jsx)("th",{children:"Created At"}),(0,j.jsx)("th",{children:"Details"}),e&&(0,j.jsx)("th",{children:"Delete"})]})}),(0,j.jsx)("tbody",{children:C.map((o=>{let{_id:i,role:a,username:s,email:d,branch:h,createdAt:m,totalLeads:p}=o;return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:a}),(0,j.jsx)("td",{children:s}),(0,j.jsx)("td",{children:d}),(0,j.jsx)("td",{children:E(h)}),(0,j.jsx)("td",{children:p||0}),(0,j.jsx)("td",{children:L(m)}),(0,j.jsx)("td",{children:(0,j.jsx)("button",{className:"check-btn",type:"button",onClick:()=>(o=>{e?R((0,k.GA)({userId:o,branch:t})):(n||r)&&R((0,k.GA)({userId:o})),R((0,f.t3)())})(i),children:"Click"})}),e&&(0,j.jsxs)("td",{children:[(0,j.jsx)("input",{className:"checkbox",type:"checkbox",name:"delete user",id:i,checked:w.includes(i),onChange:()=>(e=>{R((0,u.O_)({_id:e}))})(i)}),(0,j.jsxs)("div",{className:"custom-checkbox",children:[(0,j.jsx)(l.r,{className:"custom-checkbox-before",width:"16",height:"16"}),(0,j.jsx)(c.r,{className:"custom-checkbox-after",width:"16",height:"16"})]})]})]},i)}))})]})})]})})},w=()=>{const{isAdmin:e,isManager:n,isConversionManager:r}=(0,g.a)(),{userOffice:t}=(0,p.a)(),i=(0,m.I0)();return(0,o.useEffect)((()=>{e&&i((0,k.AW)(t)),(n||r)&&i((0,k.AW)())}),[i,e,r,n,t]),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(_,{})})}}}]);
//# sourceMappingURL=769.ecfdbaa3.chunk.js.map