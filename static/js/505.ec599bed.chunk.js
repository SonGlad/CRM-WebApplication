"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[505],{3539:(e,n,r)=>{r.d(n,{h:()=>c});var t,i=r(5043);const o=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},a.apply(null,arguments)}function s(e,n){let{title:r,titleId:s}=e,c=function(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.includes(t))continue;r[t]=e[t]}return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o);return i.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":s},c),r?i.createElement("title",{id:s},r):null,t||(t=i.createElement("g",{id:"vuesax/linear/arrow-right"},i.createElement("g",{id:"arrow-right"},i.createElement("path",{id:"Vector",d:"M6.38 3.95312L2.33334 7.99979L6.38 12.0465",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{id:"Vector_2",d:"M13.6667 8H2.44666",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})))))}const c=i.forwardRef(s);r.p},2505:(e,n,r)=>{r.r(n),r.d(n,{default:()=>_});var t,i=r(5043),o=r(7528);const a=r(5464).Ay.div(t||(t=(0,o.A)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    /* height: 90vh; */\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n\n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n        }\n    }\n\n\n    .nav-block{\n        display: flex;\n        align-items: center;\n        margin-bottom: 1rem;\n    }\n\n    .link{\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        margin-right: 35%;\n        transition: all ",";\n\n        .svg{\n            width: 1.5rem;\n            height: 1.5rem;\n            stroke: ",";\n        }\n\n        &:hover{\n            color: ",";\n        }\n        &:hover .svg{\n            stroke: ",";\n        }\n    }\n\n    .titles{\n        font-weight: 700;\n        font-size: 1.5rem\n    }\n\n    .filter-list{\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n        justify-content: center;\n\n        & button {\n            padding: 0.25rem 0.5rem;\n            min-width: 5rem;\n            color: ",";\n            background-color: ",";\n            font-size: clamp(0.75rem, 0.5vw + 0.5rem, 1.5rem);\n            font-weight: 500;\n            line-height: 1.25rem;\n            border: 1px solid ",";\n            border-radius: 0.75rem;\n            transition: color ",";\n\n            &:hover,\n            &:focus {\n                color: ",";\n            }\n        }\n    }\n\n    .users-block{\n        margin-top: 2rem;\n        color: ",";\n        overflow-y: auto;\n        height: 74dvh;\n        padding-bottom: 4px;\n        position: relative;\n\n        @media screen and (min-width: 834px){\n            height: 71dvh;\n        }\n\n        @media screen and (min-width: 1236px){\n            height: 72.4dvh;\n        }\n\n\n        &::-webkit-scrollbar {\n            width: 0.5rem;\n            background-color: ",";\n            border-radius: 24px;\n        }\n        &::-webkit-scrollbar-thumb {\n            border-radius: 5px;\n            background-color: ",";\n            border-radius: 5px;\n        }\n\n        & table {\n            width: 100%;\n            border-spacing: 0px;\n            border: 1px solid ",";\n            border-top: none;\n            border-radius: 12px;            \n\n            & thead{\n                position: sticky;\n                top: 0;\n                z-index: 1;\n\n                & th{\n                    border-top: 1px solid ",";\n                }\n            }\n        }\n\n        & th{\n            background-color: ",";\n\n            &:first-child{\n                border-top-left-radius: 10px;\n            }\n\n            &:last-child{\n                border-top-right-radius: 10px;\n            }\n        }\n\n        & tr, td, th{\n            text-align: center;\n            padding: 1rem 0;\n            border-bottom: 1px solid ",";\n            border-right: 1px solid ",";\n        }\n\n        & tr:last-child {\n            & td {\n                border-bottom: none;\n            }\n\n            & td:last-child {\n                border-bottom-right-radius: 10px;\n            }\n        }\n        \n        & td:last-child, \n        & th:last-child{\n            border-right: none;\n        }\n        \n        & td:last-child{\n            position: relative;\n        }\n    }\n    \n\n    .check-btn{\n        color: ",";\n        background-color: ",";\n        border: 1px solid ",";\n        padding: 0.25rem 0.25rem;\n        border-radius: 0.5rem;\n        cursor: pointer;\n        transition: color ",";\n\n        &:hover{\n            color: ",";\n        }\n    }\n\n\n    .checkbox {\n        margin-top: 5px;\n        width: 16px;\n        height: 16px;\n        outline: none;\n        border: none;\n        cursor: pointer;\n        opacity: 0;\n    }\n    \n    .custom-checkbox{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .custom-checkbox-before, .custom-checkbox-after{\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n    .custom-checkbox-before{\n        opacity: 1;\n        transition: opacity ",";\n    }\n    .custom-checkbox-after{\n        opacity: 0;\n        transition: opacity ",";\n    }\n    .checkbox:focus + .custom-checkbox > .custom-checkbox-before{\n        outline: 3px solid ",";\n        border-radius: 2px;\n        outline-offset: -3px; \n    }\n\n    .checkbox:checked + .custom-checkbox > .custom-checkbox-after{\n        opacity: 1;\n    }\n    .checkbox:checked + .custom-checkbox > .custom-checkbox-before{\n        opacity: 0;\n    }\n\n\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.background3),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.transition.main_transition),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite));var s=r(3539),c=r(4540),l=r(6219),d=r(9638),h=r(9080),m=r(5475),p=r(3003),u=r(1031),g=r(5101),b=r(5266),x=r(2357),f=r(8842),k=r(9201),y=r(8366),v=r(579);const j=()=>{const{formatDateTime:e,formatBranchName:n,formatOfficeName:r}=(0,y.L)(),{isAdmin:t,isManager:o,isConversionManager:j}=(0,g.A)(),{userOffice:_,allUsers:w,userLoading:A,usersCheckedCheckbox:C,filteredUsers:N,userLeadsComponent:M,userError:R}=(0,u.J)(),{isUserDetails:O}=(0,b.h)(),[E,L]=(0,i.useState)(""),[U,D]=(0,i.useState)(!1),I=(0,p.wA)();(0,i.useEffect)((()=>{w.length>0&&D(!0)}),[w.length]);(0,i.useEffect)((()=>{const e=["CRM Manager","Conversion Manager","Conversion Agent","Retention Manager","Retention Agent"],n=w.filter((e=>{switch(E){case"All":default:return!0;case"Conversion":return"Conversion Manager"===e.role||"Conversion Agent"===e.role;case"Retention":return"Retention Manager"===e.role||"Retention Agent"===e.role;case"Conversion Manager":return"Conversion Manager"===e.role;case"Conversion Agent":return"Conversion Agent"===e.role;case"Retention Manager":return"Retention Manager"===e.role;case"Retention Agent":return"Retention Agent"===e.role}})).sort(((n,r)=>{if(""===E)return new Date(r.createdAt)-new Date(n.createdAt);{const t=e.indexOf(n.role),i=e.indexOf(r.role);return-1===t||-1===i?0:t-i}}));I((0,x.GE)(n))}),[w,I,E]);return(0,v.jsx)(a,{children:(0,v.jsxs)("div",{className:"wraper",children:[(0,v.jsxs)("div",{className:"nav-block",children:[(0,v.jsxs)(m.k2,{className:"link",to:t?"/":"/leads",onClick:()=>{_&&I((0,x._0)()),M&&I((0,x.Ry)())},children:[(0,v.jsx)(s.h,{className:"svg"}),(0,v.jsx)("h1",{className:"titles",children:"Back"})]}),t&&(0,v.jsxs)("h2",{className:"titles",children:[r(_)," Users"]})]}),(0,v.jsx)("div",{className:"filter-block",children:(0,v.jsx)("ul",{className:"filter-list",children:[{name:"All"},{name:"Conversion"},{name:"Retention"},{name:"Conversion Manager"},{name:"Conversion Agent"},{name:"Retention Manager"},{name:"Retention Agent"}].map(((e,n)=>{let{name:r}=e;return(0,v.jsx)("li",{className:"filter-item",children:(0,v.jsx)("button",{type:"button",onClick:()=>{L(r)},children:r})},n)}))})}),A&&!O?(0,v.jsx)(h.cY,{}):R||!w&&!U?(0,v.jsx)(d.h,{style:{margin:"0 auto"}}):(0,v.jsx)("div",{className:"users-block",children:(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"User Role"}),(0,v.jsx)("th",{children:"User Name"}),(0,v.jsx)("th",{children:"User Email"}),(0,v.jsx)("th",{children:"Verification"}),(0,v.jsx)("th",{children:"User Branch"}),(0,v.jsx)("th",{children:"Total Leads"}),(0,v.jsx)("th",{children:"Created At"}),(0,v.jsx)("th",{children:"Details"}),t&&(0,v.jsx)("th",{children:"Delete"})]})}),(0,v.jsx)("tbody",{children:N.map((r=>{let{_id:i,role:a,username:s,email:d,branch:h,createdAt:m,totalLeads:p,verify:u}=r;return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:a||"N/A"}),(0,v.jsx)("td",{children:s||"N/A"}),(0,v.jsx)("td",{children:d||"N/A"}),(0,v.jsx)("td",{style:{background:u?"#3cbc81":"#ff000082"},children:u?"Verified":"Not Verified"}),(0,v.jsx)("td",{children:h?n(h):"N/A"}),(0,v.jsx)("td",{children:p||0}),(0,v.jsx)("td",{children:m?e(m):"N/A"}),(0,v.jsx)("td",{children:(0,v.jsx)("button",{className:"check-btn",type:"button",onClick:()=>(e=>{t?I((0,f.kl)({userId:e,branch:_})):(o||j)&&I((0,f.kl)({userId:e})),I((0,k.is)())})(i),children:"Open"})}),t&&(0,v.jsxs)("td",{children:[(0,v.jsx)("input",{className:"checkbox",type:"checkbox",name:"delete user",id:i,checked:C.includes(i),onChange:()=>(e=>{I((0,x.b_)({_id:e}))})(i)}),(0,v.jsxs)("div",{className:"custom-checkbox",children:[(0,v.jsx)(l.h,{className:"custom-checkbox-before",width:"16",height:"16"}),(0,v.jsx)(c.h,{className:"custom-checkbox-after",width:"16",height:"16"})]})]})]},i)}))})]})})]})})},_=()=>{const{isAdmin:e,isManager:n,isConversionManager:r}=(0,g.A)(),{userOffice:t}=(0,u.J)(),o=(0,p.wA)();return(0,i.useEffect)((()=>{e&&o((0,f.CF)(t)),(n||r)&&o((0,f.CF)())}),[o,e,r,n,t]),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(j,{})})}}}]);
//# sourceMappingURL=505.ec599bed.chunk.js.map