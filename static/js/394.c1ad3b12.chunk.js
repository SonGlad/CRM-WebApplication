"use strict";(self.webpackChunkcrm_web_application=self.webpackChunkcrm_web_application||[]).push([[394],{5055:(e,n,r)=>{r.d(n,{wX:()=>f,Hp:()=>u,i0:()=>b});var i=r(168),t=r(2978);const a=r.p+"static/media/welcome.b907e6f055a9be3133fe.jpg",c=r.p+"static/media/login.6188fc9466f5b283312b.jpg",o=r.p+"static/media/register.de1789afbcb5698ada48.jpg";var s,l,d,m;t.zo.section(s||(s=(0,i.Z)(["\n\n"])));const h=t.zo.section(l||(l=(0,i.Z)(["\n    background-image: linear-gradient(rgba(46, 47, 66, 0.5), \n        rgba(46, 47, 66, 0.5)), \n        url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    height: 100dvh;\n    width: 100%;\n    margin-top: -3.5rem;\n\n    @media screen and (min-width: 834px){\n        margin-top: -4.85rem;\n    }\n    @media screen and (min-width: 1440px){\n        margin-top: -5.1rem;\n    }\n"])),a),p=t.zo.section(d||(d=(0,i.Z)(["\n    background-image: linear-gradient(rgba(46, 47, 66, 0.7), \n        rgba(46, 47, 66, 0.7)), \n        url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    height: 100dvh;\n    width: 100%;\n    margin-top: -3.5rem;\n\n    @media screen and (min-width: 834px){\n        margin-top: -4.85rem;\n    }\n    @media screen and (min-width: 1440px){\n        margin-top: -5.1rem;\n    }\n"])),o),g=t.zo.section(m||(m=(0,i.Z)(["\n    background-image: linear-gradient(rgba(46, 47, 66, 0.7), \n        rgba(46, 47, 66, 0.7)), \n        url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    height: 100dvh;\n    width: 100%;\n    margin-top: -3.5rem;\n\n    @media screen and (min-width: 834px){\n        margin-top: -4.85rem;\n    }\n    @media screen and (min-width: 1440px){\n        margin-top: -5.1rem;\n    }\n"])),c);var x=r(184);const b=e=>{let{children:n}=e;return(0,x.jsx)(h,{children:n})},u=e=>{let{children:n}=e;return(0,x.jsx)(p,{children:n})},f=e=>{let{children:n}=e;return(0,x.jsx)(g,{children:n})}},4930:(e,n,r)=>{r.r(n),r.d(n,{default:()=>D});var i,t=r(168),a=r(2978);const c=a.ZP.div(i||(i=(0,t.Z)(["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n    .welcome-title{\n        margin-bottom: 3.75rem;\n        font-size: 40px;\n        line-height: 1.3;\n        font-weight: 700;\n        color: ",";\n    \n        @media screen and (min-width: 834px) {\n            font-size: 3.4375rem;\n            line-height: 1.2;\n            letter-spacing: 0.625rem;\n        }\n\n        @media screen and (min-width: 1440px) {\n            font-weight: 700;\n            font-size: 4.375rem;\n        }\n    }\n\n    .welcome-navigation{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n    }\n\n    .welcome-nav-list{\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 3.75rem;\n        flex-direction: column;\n\n        @media screen and (min-width: 834px) {\n            flex-direction: row;\n            gap: 1.875rem;\n        }\n        @media screen and (min-width: 1440px) {\n            gap: 3.75rem;\n        }\n    }\n\n    .welcome-nav-item{\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n\n        @media screen and (min-width: 1440px) {\n            width: 30%;\n        }\n    }\n\n    .welcome-item-text{\n        text-align: center;\n        margin-bottom: 1.875rem;\n\n        @media screen and (min-width: 1440px) {\n            font-size: 1.5625rem;\n            line-height: 1.5;\n        }\n    }\n\n    .welcome-nav-link{\n        display: flex;\n        width: 8.875rem;\n        padding: 0.5rem 0.625rem;\n        border-radius: 0.75rem;\n        background: ",";\n        font-size: 0.875rem;\n        font-weight: 500;\n        line-height: 1.4;\n        justify-content: center;\n        color: ",";\n        transition: all ",";\n\n        &:hover {\n            color: ",";\n        }\n\n        &:focus {\n            color: ",";\n        }\n\n        @media screen and (min-width: 834px) {\n            width: 50%;\n            font-size: 1.25rem;\n        }\n\n        @media screen and (min-width: 1440px) {\n            font-size: 1.5625rem;\n            line-height: 1.5;\n        }\n    }\n"])),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_grey));var o=r(3623),s=r(5055),l=r(1087),d=r(184);const m=()=>(0,d.jsx)(s.i0,{children:(0,d.jsx)(o.W,{children:(0,d.jsxs)(c,{children:[(0,d.jsx)("h1",{className:"welcome-title",children:"WELCOME"}),(0,d.jsx)("nav",{className:"welcome-navigation",children:(0,d.jsxs)("ul",{className:"welcome-nav-list",children:[(0,d.jsxs)("li",{className:"welcome-nav-item",children:[(0,d.jsx)("p",{className:"welcome-item-text",children:"If you still don't have an account, please proceed with"}),(0,d.jsx)(l.OL,{className:"welcome-nav-link",to:"/signup",children:"Sign Up"})]}),(0,d.jsxs)("li",{className:"welcome-nav-item",children:[(0,d.jsx)("p",{className:"welcome-item-text",children:"If you already have an account, please proceed with"}),(0,d.jsx)(l.OL,{className:"welcome-nav-link",to:"/signin",children:"Sign In"})]})]})})]})})});var h;const p=a.ZP.div(h||(h=(0,t.Z)(["\n    margin-top: 0.5rem;\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    border-radius: 0.75rem;\n    background-color: ",";\n    box-shadow: 4px 0px 14px 5px rgba(227, 255, 168, 0.2);\n    padding: 0.75rem;\n\n    \n    .wraper{\n        width: 100%;\n        border: 1px solid ",";\n        border-radius: 0.75rem;\n        padding: 0.75rem;\n        height: 90.5dvh;\n\n        @media screen and (min-width: 834px) {\n            height: 87.5dvh;\n        }\n    }\n\n    .page-title{\n        font-weight: 700;\n        text-align: center;\n        margin-bottom: 1rem;\n    }\n\n    \n    .filter-list{\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n        justify-content: center;\n        font-weight: 500;\n        line-height: 1.25rem;\n    }\n"])),(e=>e.theme.color.background),(e=>e.theme.color.primary_green_lite));var g,x,b,u=r(7039),f=r(3544),j=r(4420);const w=a.ZP.div(g||(g=(0,t.Z)(["\n  margin-top: 2rem;\n  color: ",";\n  overflow-y: auto;\n  height: 74dvh;\n  padding-bottom: 4px;\n  position: relative;\n\n  @media screen and (min-width: 834px){\n    height: 71dvh;\n  }\n\n  @media screen and (min-width: 1236px){\n    height: 73dvh;\n  }\n\n\n  &::-webkit-scrollbar {\n    width: 0.5rem;\n    background-color: ",";\n    border-radius: 24px;\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 5px;\n    background-color: ",";\n    border-radius: 5px;\n  }\n\n\n\n  & table {\n    width: 100%;\n    border-spacing: 0px;\n    border: 1px solid ",";\n    border-top: none;\n    border-radius: 12px;\n    table-layout: fixed;\n\n    & thead{\n      position: sticky;\n      top: 0;\n      z-index: 2;\n\n      & th{\n        border-top: 1px solid ",";\n      }\n    }\n  }\n  \n\n  & th{\n    background-color: ",";\n\n    &:first-child{\n      border-top-left-radius: 10px;\n    }\n\n    &:last-child{\n      border-top-right-radius: 10px;\n    }\n  }\n\n  & tr, td, th{\n    text-align: center;\n    padding: 1rem 0;\n    border-bottom: 1px solid ",";\n    border-right: 1px solid ",";\n  }\n\n\n  & tr:last-child {\n    & td {\n      border-bottom: none;\n    }\n\n    & td:last-child {\n      border-bottom-right-radius: 10px;\n    }\n  }\n      \n  & td:last-child, \n  & th:last-child{\n    border-right: none;\n    width: 3.75rem;\n  }\n\n  & td:nth-last-child(2),\n  & th:nth-last-child(2),\n  & td:nth-last-child(3),\n  & th:nth-last-child(3) {\n    width: 6rem;\n  }\n\n  \n  & td:last-child{\n    position: relative;\n  }\n\n  .TableHeaderName{\n    padding:0.5rem 0.25rem;\n    font-weight: 600;\n    font-size: 0.9rem;\n    overflow-wrap: break-word;\n    text-align: center;\n  }\n\n  .TableHeaderItem {\n    padding:0.5rem 0.25rem;\n    font-weight: 500;\n    font-size: 0.8rem;\n    overflow-wrap: break-word;\n    text-align: center;\n  }\n\n  #sourceColumn{\n    width: 5.5rem;\n  }\n  #createdColumn {\n    width: 7rem;\n  }\n  #officeColumn {\n    width: 5rem;\n  }\n\n  .back-color{\n    background-color: #369469;\n    box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 10px inset;\n  }\n\n\n  .check-btn{\n    font-size: 0.8rem;\n    width: 70%;\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 0.25rem 0.25rem;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    transition: color ",";\n\n    &:hover{\n      color: ",";\n    }\n  }\n\n"])),(e=>e.theme.color.primary_white),(e=>e.theme.color.primary_grey),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.background3),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey)),k=a.ZP.div(x||(x=(0,t.Z)(["\n\n  .custom-checkbox{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .checkbox {\n    margin-top: 5px;\n    width: 16px;\n    height: 16px;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    opacity: 0;\n  }\n  \n  .custom-checkbox-before, .custom-checkbox-after{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n  }\n  .custom-checkbox-before{\n    opacity: 1;\n    transition: opacity ",";\n  }\n  .custom-checkbox-after{\n    opacity: 0;\n    transition: opacity ",";\n  }\n  .checkbox:focus + .custom-checkbox > .custom-checkbox-before{\n    outline: 3px solid ",";\n    border-radius: 2px;\n    outline-offset: -3px; \n  }\n\n  .checkbox:checked + .custom-checkbox > .custom-checkbox-after{\n    opacity: 1;\n  }\n  .checkbox:checked + .custom-checkbox > .custom-checkbox-before{\n    opacity: 0;\n  }\n\n"])),(e=>e.theme.transition.main_transition),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite)),v=a.ZP.div(b||(b=(0,t.Z)(["\n  position: relative;\n\n\n  .office-list{\n    width: 6rem;\n    position: absolute;\n    z-index: 1;\n    top: -0.5rem;\n    right: -115%;\n    border-radius: 0.5rem;\n    padding: 0.7rem 0.2rem;\n    gap: 1.4rem;\n    background-color: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n    visibility: hidden;\n    opacity: 0;\n    scale: 0;\n    transition: all ",";\n  }\n\n  .office-list-visible{\n    opacity: 1;\n    visibility: visible;\n    scale: 1;\n  }\n\n  .office-item{\n    cursor: pointer;\n\n    & p{\n      font-size: 1rem;\n      transition: color ",";\n\n      &:hover{\n        color: ","\n      }\n    }\n  }\n\n\n  .assign-btn{\n    margin-left: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.1rem;\n    font-size: 0.8rem;\n    width: 95%;\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 0.25rem 0.25rem;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    transition: color ",";\n\n    & .icon{\n      width: 0.875rem;\n      height: 0.875rem;\n      rotate: -90deg;\n      stroke: ",";\n      transition: all ",";\n    }\n\n    & .icon-active{\n      rotate: 90deg;\n    }\n\n    &:hover{\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.color.background2),(e=>e.theme.transition.main_transition),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_black),(e=>e.theme.color.primary_green_lite),(e=>e.theme.color.primary_green_lite),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_black),(e=>e.theme.transition.main_transition),(e=>e.theme.color.primary_grey));var y=r(6677),N=r(905),_=r(2865),C=r(7055),T=r(8524),H=r(4461),z=r(4753),I=r(9388),M=r(2791);const A=e=>{let{lead:n,userSelectOffice:r}=e;const[i,t]=(0,M.useState)(new Map),a=(0,M.useRef)(new Map),c=(e,n)=>{console.log(e),console.log(n),s(e._id)},o=e=>e.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"),s=e=>{t((n=>{const r=new Map(n);return r.set(e,!r.get(e)),r}))},l=(0,M.useCallback)((e=>{"Escape"===e.key&&t(new Map)}),[]),m=(0,M.useCallback)((e=>{a.current.forEach(((n,r)=>{n&&!n.contains(e.target)&&t((e=>{const n=new Map(e);return n.set(r,!1),n}))}))}),[]);return(0,M.useEffect)((()=>(document.addEventListener("keydown",l),document.addEventListener("click",m),()=>{document.removeEventListener("keydown",l),document.removeEventListener("click",m)})),[m,l]),(0,d.jsxs)(v,{ref:e=>a.current.set(n._id,e),children:[(0,d.jsxs)("button",{className:"assign-btn",type:"button",onClick:()=>s(n._id),children:[(e=>{let n;return n=e.assigned?"ReAssign":"Assign",n})(n),(0,d.jsx)(I.r,{className:"icon ".concat((h=n._id,i.get(h)?"icon-active":""))})]}),(0,d.jsx)("ul",{className:"office-list ".concat((e=>i.get(e)?"office-list-visible":"")(n._id)),children:n.assigned?r.filter((e=>{let{office:r}=e;return r!==n.assignedOffice})).map(((e,r)=>{let{office:i}=e;return(0,d.jsx)("li",{className:"office-item",children:(0,d.jsxs)("p",{onClick:()=>c(n,i),children:["To ",o(i)]})},r)})):r.map(((e,r)=>{let{office:i}=e;return(0,d.jsx)("li",{className:"office-item",children:(0,d.jsxs)("p",{onClick:()=>c(n,i),children:["To ",o(i)]})},r)}))})]});var h};var L=r(1879),Z=r(8192),E=r(6081);const O=e=>{let{selectedExternalLeadsCheckedCheckbox:n,lead:r}=e;const i=(0,j.I0)();return(0,d.jsx)(k,{children:(0,d.jsxs)("div",{className:"custom-checkbox",children:[(0,d.jsx)("input",{className:"checkbox",type:"checkbox",name:"delete_external_lead",id:r._id,checked:n.includes(r._id),onChange:()=>{return e=r._id,void i((0,E.Nj)({_id:e}));var e}}),(0,d.jsxs)("div",{className:"custom-checkbox",children:[(0,d.jsx)(Z.r,{className:"custom-checkbox-before",width:"16",height:"16"}),(0,d.jsx)(L.r,{className:"custom-checkbox-after",width:"16",height:"16"})]})]})})};function S(){const e=(0,j.I0)(),{isAdmin:n}=(0,u.a)(),{isLeadDetails:r}=(0,N.d)(),{userSelectOffice:i}=(0,_.a)(),{isLeadLoading:t,isLeads:a,selectedExternalLeadsCheckedCheckbox:c}=(0,y.t)();let o;a&&(o=[...a].sort(((e,n)=>e.newContact===n.newContact?new Date(n.createdAt)-new Date(e.createdAt):e.newContact?-1:1)));const s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Europe/Kiev";const r=new Date(e),i=(0,z.zW)(r,n),t=(0,H.WU)(i,"yyyy-MM-dd",{timeZone:n}),a=(0,H.WU)(i,"HH:mm",{timeZone:n});return"".concat(t," ").concat(a)};return n&&t&&!r?(0,d.jsx)(C.ql,{}):(0,d.jsx)(w,{children:(0,d.jsxs)("table",{className:"Table",children:[(0,d.jsx)("thead",{className:"TableHeader",children:(0,d.jsxs)("tr",{className:"TableHeaderList",children:[(0,d.jsx)("th",{id:"nameColumn",className:"TableHeaderName",children:"Name:"}),(0,d.jsx)("th",{id:"lastNameColumn",className:"TableHeaderName",children:"Last Name:"}),(0,d.jsx)("th",{id:"emailColumn",className:"TableHeaderName",children:"Email:"}),(0,d.jsx)("th",{id:"phoneColumn",className:"TableHeaderName",children:"Phone:"}),(0,d.jsx)("th",{id:"sourceColumn",className:"TableHeaderName",children:"Source:"}),(0,d.jsx)("th",{id:"createdColumn",className:"TableHeaderName",children:"Created:"}),(0,d.jsx)("th",{id:"officeColumn",className:"TableHeaderName",children:"Office:"}),(0,d.jsx)("th",{id:"crmManagerColumn",className:"TableHeaderName",children:"CRM Manager:"}),(0,d.jsx)("th",{id:"conversionManagerColumn",className:"TableHeaderName",children:"Conversion Manager:"}),(0,d.jsx)("th",{id:"conversionAgentColumn",className:"TableHeaderName",children:"Conversion Agent:"}),(0,d.jsx)("th",{id:"assignColumn",className:"TableHeaderName",children:"Assign / ReAssign"}),(0,d.jsx)("th",{id:"detailsColumn",className:"TableHeaderName",children:"Details"}),(0,d.jsx)("th",{id:"checkColumn",className:"TableHeaderName",children:"Check"})]})}),(0,d.jsx)("tbody",{children:a&&o.map(((n,r)=>{return(0,d.jsxs)("tr",{className:n.newContact?"back-color":"",children:[(0,d.jsx)("td",{className:"TableHeaderItem",children:n.name}),(0,d.jsx)("td",{className:"TableHeaderItem",children:n.lastName}),(0,d.jsx)("td",{className:"TableHeaderItem",children:n.email}),(0,d.jsx)("td",{className:"TableHeaderItem",children:n.phone}),(0,d.jsx)("td",{className:"TableHeaderItem",children:(a=n.resource,"string"!==typeof a||0===a.length?a:a.charAt(0).toUpperCase()+a.slice(1))}),(0,d.jsx)("td",{className:"TableHeaderItem",children:s(n.createdAt)}),(0,d.jsx)("td",{className:"TableHeaderItem",children:(t=n.assignedOffice,t.replace(/([a-zA-Z]+)(\d+)/,"$1 $2"))}),(0,d.jsx)("td",{className:"TableHeaderItem",children:n.crmManager.name||n.crmManager.email?(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.crmManager.name})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.crmManager.email})})]}):(0,d.jsx)("p",{children:"Not Assigned Yet"})}),(0,d.jsx)("td",{className:"TableHeaderItem",children:n.conManager.name||n.conManager.email?(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.conManager.name})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.conManager.email})})]}):(0,d.jsx)("p",{children:"Not Assigned Yet"})}),(0,d.jsx)("td",{className:"TableHeaderItem",children:n.conAgent.name||n.conAgent.email?(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.conAgent.name})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.conAgent.email})})]}):(0,d.jsx)("p",{children:"Not Assigned Yet"})}),(0,d.jsx)("td",{className:"TableHeaderItem",children:(0,d.jsx)(A,{lead:n,userSelectOffice:i})}),(0,d.jsx)("td",{className:"TableHeaderItem",children:(0,d.jsx)("button",{className:"check-btn",type:"button",onClick:()=>{return r=n._id,e((0,T.pk)()),void e((0,f.zs)({leadId:r}));var r},children:"Open"})}),(0,d.jsx)("td",{className:"TableHeaderItem",children:(0,d.jsx)(O,{lead:n,selectedExternalLeadsCheckedCheckbox:c})})]},n._id);var t,a}))})]})})}const P=()=>{const{isAdmin:e}=(0,u.a)(),n=(0,j.I0)();return(0,M.useEffect)((()=>{e&&n((0,f.oC)())}),[n,e]),(0,d.jsx)(p,{children:(0,d.jsxs)("div",{className:"wraper",children:[(0,d.jsx)("h1",{className:"page-title",children:"External Leads List & Management"}),(0,d.jsx)("div",{className:"filter-block",children:(0,d.jsx)("ul",{className:"filter-list",children:(0,d.jsx)("li",{className:"filter-item",children:(0,d.jsx)("p",{children:"FILTER BLOCK"})})})}),(0,d.jsx)(S,{})]})})},D=()=>{const{isLoggedIn:e}=(0,u.a)();return e?(0,d.jsx)(P,{}):(0,d.jsx)(m,{})}}}]);
//# sourceMappingURL=394.c1ad3b12.chunk.js.map